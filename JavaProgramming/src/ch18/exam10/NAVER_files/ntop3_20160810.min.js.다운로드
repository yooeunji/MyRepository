var TimeSquare={domain:"www.naver.com",cache:{},init:function(){this.timesquare=$("time_square");this.moveBtnArea=$$.getSingle(".tsq > .cpg",TS.timesquare);this.pan=$("ws_tsq");this.statusArea=$$.getSingle(".tsq_status",TS.timesquare);
this.idxElement=$$.getSingle(".tsq > .cpg > span > strong",TS.timesquare);this.curIdx=parseInt(this.idxElement.innerHTML);if(this.curIdx.toString=="NaN"){this.curIdx=1}if(typeof tsNormal!="undefined"&&tsNormal!=null&&tsNormal.data!=null&&tsNormal.data.length>0){this.EventManager.init();
this.data=tsNormal.data}else{$Element(TS.moveBtnArea).hide()}this.TSRolling.start("news");this.TSRolling.start("stock");this.TSRolling.start("topWeather");this.attachShortcutClickTag();if(this._isLifePan()){this.LifeWeather.init()
}},setPage:function(a){if(a>this.data.length){a=1}else{if(a<=0){a=this.data.length}}var e=this.data[a-1];var c=e.type;var b=e.html;TS.TSRolling.stop("news");TS.TSRolling.stop("stock");TS.LifeWeather.rollingStop();
switch(c){case"E":TS.setShortcut(e.shortcut);if(!TS.cache.wideStock){var d=$Ajax("/include/timesquare/wide_stock.html",{timeout:3,onload:function(g){var f=g.text();TS.cache.wideStock=f;TS._bindWideStock(a,b,f)
},onerror:function(){TS.failMsg("timesquare ajax error : /include/timesquare/wide_stock.html")}});d.header({"If-Modified-Since":"Thu, 1 Jan 1970 00:00:00 GMT"});d.request()}else{TS._bindWideStock(a,b,TS.cache.wideStock)
}break;case"L":TS.setLifeShortcut();TS._bindLineData(a,b);this.LifeWeather.init();break;case"N":TS.setShortcut(e.shortcut);TS._bindLineData(a,b);if(!TS.cache.news){var d=$Ajax("/nvrandom?timesquare/line_news.html",{method:"get",timeout:3,onload:function(g){var f=g.text();
TS.cache.news=f;TS._bindStockNews(f)},onerror:function(){TS.failMsg("timesquare ajax error : /include/timesquare/line_news.html")}});d.header({"If-Modified-Since":"Thu, 1 Jan 1970 00:00:00 GMT"});d.request()
}else{TS._bindStockNews(TS.cache.news)}if(!TS.cache.stock){var d=$Ajax("/include/timesquare/line_stock.html",{timeout:3,onload:function(g){var f=g.text();TS.cache.stock=f;TS._bindLineStock(f)},onerror:function(){TS.failMsg("timesquare ajax error : /include/timesquare/line_stock.html")
}});d.header({"If-Modified-Since":"Thu, 1 Jan 1970 00:00:00 GMT"});d.request()}else{TS._bindLineStock(TS.cache.stock)}break;default:TS.setShortcut(e.shortcut);TS._bindLineData(a,b)}},_bindWideStock:function(b,c,a){TS.pan.innerHTML=CommonFn.Fillter(c);
TS.curIdx=b;TS.idxElement.innerHTML=b;$Element($$.getSingle(".tsq_eco_wrap",TS.pan)).prepend(a)},_bindLineData:function(a,b){TS.pan.innerHTML=CommonFn.Fillter(b);TS.curIdx=a;TS.idxElement.innerHTML=a},_bindStockNews:function(a){$Element($$.getSingle(".tsq_news_wrap .tsq_list",TS.pan)).appendHTML(a);
TS.TSRolling.restart("news")},_bindLineStock:function(a){$Element($$.getSingle(".tsq_news_wrap",TS.pan)).appendHTML(a);TS.TSRolling.restart("stock")},_bindShortcut:function(a){TS.TSRolling.stop("topWeather");
$ElementList(".wt, .qlink, .qdown",TS.statusArea).leave();$Element(TS.statusArea).appendHTML(a);TS.TSRolling.restart("topWeather")},_isLifePan:function(){return $$(".tsq_life_wrap",TS.pan).length==0?false:true
},setShortcut:function(a){if(a.name=="날씨"){if(!TS.cache.topWeather){var b=$Ajax("/include/timesquare/top_weather.html",{timeout:3,onload:function(c){var d=c.text();TS.cache.topWeather=d;TS._bindShortcut(d)
},onerror:function(){TS.failMsg("timesquare ajax error : /include/timesquare/top_weather.html")}});b.header({"If-Modified-Since":"Thu, 1 Jan 1970 00:00:00 GMT"});b.request()}else{TS._bindShortcut(TS.cache.topWeather)
}}else{TS._bindShortcut('<a href="'+a.url+'" class="qlink">'+a.name+"</a>");TS.attachShortcutClickTag()}},setLifeShortcut:function(){if(!TS.cache.lifeShortcut){TS.cache.lifeShortcut='<a href="#" id="ts_region" class="qdown"><span class="blind">현재 위치</span><strong>국내 <span class="dep2">&gt;</span> 서울</strong><span class="blind">지역설정 레이어 열기</span></a>'
}TS._bindShortcut(TS.cache.lifeShortcut)},attachShortcutClickTag:function(){var a=$$.getSingle(".qlink",TS.statusArea);if(!a){return}$Element(a).attach("click",TS.EventManager._onclickShortcut)},TSRolling:{roll:{},start:function(b){var a=[];
switch(b){case"news":a=$$(".tsq_news_wrap > .tsq_list > li",TS.pan).slice(3);break;case"stock":a=$$(".tsq_news_wrap > .tsq_finan > .finan",TS.pan);break;case"topWeather":a=$$(".wt .tsqs_wt",TS.statusArea);
break}if(a.length>0){this.roll[b]=new TS.Rolling(a);if(this.roll[b].isInited){this.roll[b].start(3)}}},stop:function(a){if(this.roll[a]&&this.roll[a].isInited){this.roll[a].stop()}},move:function(b,a){if(this.roll[b]&&this.roll[b].isInited){this.roll[b].move(a)
}},restart:function(a){var c=this.roll[a];this.start(a);if(c){var b=c.curIdx;this.move(a,b)}}},EventManager:{init:function(){$Element(TS.moveBtnArea).attach("click",this._onClickMoveBtn)},_onClickMoveBtn:function(a){var b=$Element(a.element);
var c="squ.";if(b.hasClass("pre")){c+="pre";TS.setPage(TS.curIdx-1)}else{if(b.hasClass("next")){c+="next";TS.setPage(TS.curIdx+1)}}clickcr(a.element,c,"","",a._event);a.stop()},_onclickShortcut:function(a){var b=$$.getSingle(".qlink",TS.statusArea);
if(!b){return}var c=$Element(b);var d="squ.add";switch(c.html()){case"TV편성표":d="squ.tvpro";break;case"스포츠":d="squ.sports";break;case"교통":d="squ.traffic";break;case"부동산":d="squ.land";break;case"증시":case"증권":break
}clickcr(a.currentElement,d,"","",a._event)}},LifeWeather:{data:{template:'<a onclick="clickcr(this,\'squ.sweather\',\'\',\'\',event)" href="{=URL}" class="tw_a" title="날씨페이지로 이동"><span class="to"><span class="tw_box"><strong class="tw_tit">현재</strong><span class="deg"><em>{=CUR_TEMP}</em>℃</span><span class="tsq_wtb tsq_wtb{=CUR_CODE}" title="{=CUR_TEXT}">{=CUR_TEXT}</span></span></span><span class="ym"><span class="tw_box"><strong class="tw_tit">내일오전</strong><span class="deg"><em>{=TAM_TEMP}</em>℃</span><span class="tsq_wtb tsq_wtb{=TAM_CODE}" title="{=TAM_TEXT}">{=TAM_TEXT}</span></span></span><span class="ya"><span class="tw_box"><strong class="tw_tit">내일오후</strong><span class="deg"><em>{=TPM_TEMP}</em>℃</span><span class="tsq_wtb tsq_wtb{=TPM_CODE}" title="{=TPM_TEXT}">{=TPM_TEXT}</span></span></span></a>',domestic:{level1Arr:[{code:"01",name:"강원도"},{code:"02",name:"경기도"},{code:"03",name:"경상남도"},{code:"04",name:"경상북도"},{code:"05",name:"광주광역시"},{code:"06",name:"대구광역시"},{code:"07",name:"대전광역시"},{code:"08",name:"부산광역시"},{code:"09",name:"서울특별시"},{code:"17",name:"세종특별자치시"},{code:"10",name:"울산광역시"},{code:"11",name:"인천광역시"},{code:"12",name:"전라남도"},{code:"13",name:"전라북도"},{code:"14",name:"제주도"},{code:"15",name:"충청남도"},{code:"16",name:"충청북도"}],level2Map:{},level3Map:{}}},init:function(){this.level0={};
this.level1={};this.level2={};this.level3={};this._setFromCookie();this._setPage();this.EventManager.init()},_setCookie:function(){var a={};a.level0=this.level0;a.level1=this.level1;a.level2=this.level2;
a.level3=this.level3;$Cookie().set("TS_LF_WT",$Json(a).toString(),365,TS.domain)},_setFromCookie:function(){var a=$Cookie().get("TS_LF_WT");if(a){this.rollingStop();var c=$Json(a).toObject();this.level0=c.level0;
this.level1=c.level1;this.level2=c.level2;this.level3=c.level3;if(this.isWorld()&&!this.data.world){var b=$Ajax("/include/timesquare/weatherLife/world.json",{timeout:3,onload:function(d){TS.LifeWeather.data.world=d.json()
},onerror:function(){TS.failMsg("/include/timesquare/weatherLife/"+code+".json")}});b.header({"If-Modified-Since":"Thu, 1 Jan 1970 00:00:00 GMT"});b.request()}}},rollingStart:function(){var b=$$(".tsq_weather > a",TS.pan);
var c=b.length;if(c&&c>0){var a=0;this.rollingStop();this.interval=setInterval(function(){var e=$Element("time_square");if(!e.isParentOf(document.activeElement)){$Element(b[a++]).hide();if(a>=c){a=0}var d=$Element(b[a]);
d.show("block");$$.getSingle("#ts_region strong").innerHTML="국내<span class='dep2'> &gt; </span>"+d.attr("data-name")}},5000)}},rollingStop:function(){clearInterval(this.interval)},_setPage:function(){var a=$$.getSingle(".tsq_weather",TS.pan);
var c=this.level2;if(!c.code){if($Element(a).child().length==0){if(TS.LifeWeather.data.defaultHTML){a.innerHTML=TS.LifeWeather.data.defaultHTML;this.rollingStart()}else{var b=$Ajax("/include/timesquare/weatherLife/default.html",{timeout:3,onload:function(e){TS.LifeWeather.data.defaultHTML=e.text();
a.innerHTML=TS.LifeWeather.data.defaultHTML;TS.LifeWeather.rollingStart()},onerror:function(){TS.failMsg("timesquare ajax error : /include/timesquare/weatherLife/default/html")}});b.header({"If-Modified-Since":"Thu, 1 Jan 1970 00:00:00 GMT"});
b.request()}}else{this.rollingStart()}}else{$$.getSingle("#ts_region strong").innerHTML=this.level0.name+"<span class='dep2'> &gt; </span>"+(this.isWorld()?this.level2.name:this.level3.name);if(this.isWorld()){var b=$Ajax("/include/timesquare/weatherLife/"+c.code+".html",{timeout:3,onload:function(e){a.innerHTML=e.text()
},onerror:function(){TS.failMsg("timesquare ajax error : "+c.code)}});b.header({"If-Modified-Since":"Thu, 1 Jan 1970 00:00:00 GMT"});b.request()}else{var d=this.data.domestic.level2Map;if(d[c.code]){TS.LifeWeather._makeHtml()
}else{var b=$Ajax("/include/timesquare/weatherLife/"+c.code+".json",{timeout:3,onload:function(e){d[c.code]=e.json().lowerList;TS.LifeWeather._makeHtml()},onerror:function(){TS.failMsg("/include/timesquare/weatherLife/"+code+".json")
}});b.header({"If-Modified-Since":"Thu, 1 Jan 1970 00:00:00 GMT"});b.request()}}}},_makeHtml:function(){var b=$$.getSingle(".tsq_weather",TS.pan);var c=this.data.domestic.level2Map[this.level2.code];for(var a in c){var d=c[a];
if(d.code==this.level3.code){b.innerHTML=$Template(this.data.template).process({URL:d.now.url,CUR_TEMP:d.now.temp,CUR_CODE:d.now.code,CUR_TEXT:d.now.text,TAM_TEMP:d.tommorow.am.temp,TAM_CODE:d.tommorow.am.code,TAM_TEXT:d.tommorow.am.text,TPM_TEMP:d.tommorow.pm.temp,TPM_CODE:d.tommorow.pm.code,TPM_TEXT:d.tommorow.pm.text})
}}},isWorld:function(){if(this.level0.code&&this.level0.code==2){return true}return false},EventManager:{init:function(){$Element("ts_region").attach("click",TS.LifeWeather.EventManager._onclickRegion)
},_onclickRegion:function(a){TS.LifeWeather.ScrollBox.show();a.stop()}},ScrollBox:{init:function(){this.area=$('<div id="ly_selarea" class="ly_selarea" style="display:none"><h5 id="scroll8_nav"></h5><div id="scroll8"><div class="scrollbar-box"><div class="scrollbar-content" style="top: 0px;"><ul id="rectype_lst" class="rectype_lst rectype_lst_outside"></ul><p id="sel_mes" class="sel_mes" style="display:none"></p></div></div><div class="scrollbar-v scrollbar-show"><div class="scrollbar-button-up rollover"></div><div class="scrollbar-track rollover" style="height:89px"><div class="scrollbar-thumb rollover S77068584" style="top: 0px; height: 50px;"><img src="http://static.naver.net/w9/blank.gif" width="1" height="1" alt="" class="scrollbar-thumb-body" style="height:48px"></div></div><div class="scrollbar-button-down rollover"></div></div></div><a href="#" class="ly_selarea_close" title="지역설정 레이어 닫기">지역설정 레이어 닫기</a></div>');
$Element(TS.statusArea).after(this.area);this.elList=$Element("rectype_lst");this.elMes=$Element("sel_mes");this.oScrollBox=new jindo.ScrollBox("scroll8",{bAdjustThumbSize:true,sOverflowX:"hidden",sOverflowY:"scroll",nMinThumbSize:50});
this.EventManager.init()},show:function(){if(!this.area){this.init()}$Element(this.area).show();this._updateNav();if(!TS.LifeWeather.isWorld()&&TS.LifeWeather.level3.code){this._showDomesticLevel3List()
}else{if(TS.LifeWeather.isWorld()&&TS.LifeWeather.level2.code){this._showWorldLevel2List()}else{this._showLevel0List()}}},hide:function(){TS.LifeWeather._setFromCookie();if(this.area){$Element(this.area).hide()
}},_updateNav:function(h){var g=0;var f=TS.LifeWeather.level0;var e=TS.LifeWeather.level1;var d=TS.LifeWeather.level2;var c=TS.LifeWeather.level3;var b="";if(TS.LifeWeather.isWorld()){b="<a href='#' data-level='0'>해외</a>"
}else{b="<a href='#' data-level='0'>국내</a>"}if(e.code||f.code&&!h){b+=" &gt; <a href='#' data-level='1'>";b+=(e.name)?e.name:(TS.LifeWeather.isWorld()?"국가":"광역시/도");b+="</a>";g=1}if(d.name!=""&&(d.code||e.code&&!h)){b+=" &gt; <a href='#' data-level='2'>";
b+=(d.name)?d.name:(TS.LifeWeather.isWorld()?"도시":"시/군구");b+="</a>";g=2}if(!TS.LifeWeather.isWorld()&&(c.code||d.code&&!h)){b+=" &gt; <a href='#' data-level='3'>";b+=(c.name)?c.name:"동/읍/면";b+="</a>";g=3
}$Element("scroll8_nav").html(b);var a=$Element($$.getSingle("#scroll8_nav a[data-level="+g+"]"));a.html("<strong>"+a.html()+"</strong>")},_showLevel0List:function(){var a="";if(TS.LifeWeather.isWorld()){a="<li><a href='#' data-level='0' data-code='1' data-name='국내'>국내</a></li><li class='on'><a href='#' data-level='0' data-code='2' data-name='해외'>해외</a></li>"
}else{a="<li class='on'><a href='#' data-level='0' data-code='1' data-name='국내'>국내</a></li><li><a href='#' data-level='0' data-code='2' data-name='해외'>해외</a></li>"}this._updateList(a,TS.LifeWeather.level0.code)
},_showDomesticLevel1List:function(){var b=TS.LifeWeather.data.domestic.level1Arr;var a=this.getListHtml(1,b);this._updateList(a,TS.LifeWeather.level1.code)},_showWorldLevel1List:function(){var b="";if(TS.LifeWeather.data.world){for(var a in TS.LifeWeather.data.world){var d=TS.LifeWeather.data.world[a].worldRegionCategory;
b+="<li><a href='#' data-level='1' data-code='"+d.regionCode+"' data-name='"+d.contryName+"'>"+d.contryName+"</a></li>"}TS.LifeWeather.ScrollBox._updateList(b,TS.LifeWeather.level1.code)}else{var c=$Ajax("/include/timesquare/weatherLife/world.json",{timeout:3,onload:function(f){TS.LifeWeather.data.world=f.json();
for(var e in TS.LifeWeather.data.world){var g=TS.LifeWeather.data.world[e].worldRegionCategory;b+="<li><a href='#' data-level='1' data-code='"+g.regionCode+"' data-name='"+g.contryName+"'>"+g.contryName+"</a></li>"
}TS.LifeWeather.ScrollBox._updateList(b,TS.LifeWeather.level1.code)},onerror:function(){TS.failMsg("/include/timesquare/weatherLife/"+code+".json")}});c.header({"If-Modified-Since":"Thu, 1 Jan 1970 00:00:00 GMT"});
c.request()}},_showDomesticLevel2List:function(){var b=TS.LifeWeather.level1.code;var d=TS.LifeWeather.data.domestic.level2Map;if(d[b]){var a=this.getListHtml(2,d[b]);this._updateList(a,TS.LifeWeather.level2.code);
if(d[b].length==1&&d[b][0].name==""){TS.LifeWeather.level2.code=d[b][0].code;TS.LifeWeather.level2.name=d[b][0].name;TS.LifeWeather.ScrollBox._showDomesticLevel3List()}}else{var c=$Ajax("/include/timesquare/weatherLife/"+b+".json",{timeout:3,onload:function(f){d[b]=f.json().lowerList;
var e=TS.LifeWeather.ScrollBox.getListHtml(2,d[b]);TS.LifeWeather.ScrollBox._updateList(e,TS.LifeWeather.level2.code);if(d[b].length==1&&d[b][0].name==""){TS.LifeWeather.level2.code=d[b][0].code;TS.LifeWeather.level2.name=d[b][0].name;
TS.LifeWeather.ScrollBox._showDomesticLevel3List()}},onerror:function(){TS.failMsg("/include/timesquare/weatherLife/"+b+".json")}});c.header({"If-Modified-Since":"Thu, 1 Jan 1970 00:00:00 GMT"});c.request()
}},_showWorldLevel2List:function(){var b="";var e=null;for(var a in TS.LifeWeather.data.world){var c=TS.LifeWeather.data.world[a].worldRegionCategory;if(c.regionCode==TS.LifeWeather.level1.code){e=TS.LifeWeather.data.world[a].cityRegionCode;
break}}if(e==null){TS.failMsg("[TIMESQUARE - LIFE_WEATHER] 해당 국가의 도시를 찾지 못하였습니다."+TS.LifeWeather.level1.code);return}for(var a in e){var d=e[a];b+="<li><a href='#' data-level='2' data-code='"+d.regionCode+"' data-name='"+d.cityName+"'>"+d.cityName+"</a></li>"
}this._updateList(b,TS.LifeWeather.level2.code)},_showDomesticLevel3List:function(){var c=TS.LifeWeather.level2.code;var b=TS.LifeWeather.data.domestic.level3Map;if(b[c]){var a=TS.LifeWeather.ScrollBox.getListHtml(3,b[c]);
TS.LifeWeather.ScrollBox._updateList(a,TS.LifeWeather.level3.code)}else{var d=$Ajax("/include/timesquare/weatherLife/"+c+".json",{timeout:3,onload:function(f){b[c]=f.json().lowerList;var e=TS.LifeWeather.ScrollBox.getListHtml(3,b[c]);
TS.LifeWeather.ScrollBox._updateList(e,TS.LifeWeather.level3.code)},onerror:function(){TS.failMsg("/include/timesquare/weatherLife/"+c+".json")}});d.header({"If-Modified-Since":"Thu, 1 Jan 1970 00:00:00 GMT"});
d.request()}},getListHtml:function(e,c){var b="";for(var a in c){var d=c[a];b+="<li><a href='#' data-level='"+e+"' data-code='"+d.code+"' data-name='"+d.name+"'>"+d.name+"</a></li>"}return b},_updateList:function(d,b){this.elMes.hide();
this.elList.html(d);var a=$$.getSingle("[data-code="+b+"]");if(a){$Element(a).parent().addClass("on")}this.elList.show();this.oScrollBox.reset();var f=$$("#scroll8 .rectype_lst li");var g=0;var e=3;for(var c=0;
c<f.length;c++){if($Element(f[c]).hasClass("on")){g=Math.floor(c/e)*19+6}}this.oScrollBox.setScrollTop(g)},_showMessage:function(a){this.elMes.html(a);this.elList.html("");this.oScrollBox.reset();this.elList.hide();
this.elMes.show()},EventManager:{init:function(){$Element($$.getSingle("h5",TS.LifeWeather.ScrollBox.area)).attach("click",this._onclickScrollNav);$Element("scroll8").attach("click",this._onclickScrollBox);
$Element($$.getSingle(".ly_selarea_close",TS.LifeWeather.ScrollBox.area)).attach("click",this._onclickScrollCls)},_onclickScrollNav:function(a){a.stop();if(a.element.tagName!="A"){return}var b=$Element(a.element);
var c=parseInt(b.attr("data-level"),10);TS.LifeWeather.level3={};switch(c){case 0:TS.LifeWeather.level2={};TS.LifeWeather.level1={};TS.LifeWeather.ScrollBox._showLevel0List();break;case 1:TS.LifeWeather.level2={};
if(TS.LifeWeather.isWorld()){TS.LifeWeather.ScrollBox._showWorldLevel1List()}else{TS.LifeWeather.ScrollBox._showDomesticLevel1List()}break;case 2:if(!TS.LifeWeather.isWorld()){TS.LifeWeather.ScrollBox._showDomesticLevel2List()
}break}TS.LifeWeather.ScrollBox._updateNav(true)},_onclickScrollCls:function(a){a.stop();TS.LifeWeather.ScrollBox.hide()},_onclickScrollBox:function(a){a.stop();var c=$Element(a.element);var e=parseInt(c.attr("data-level"),10);
var d=c.attr("data-code");var b=c.attr("data-name");switch(e){case 0:TS.LifeWeather.level0.code=d;TS.LifeWeather.level0.name=b;TS.LifeWeather.ScrollBox._updateNav();if(TS.LifeWeather.isWorld()){TS.LifeWeather.ScrollBox._showWorldLevel1List()
}else{TS.LifeWeather.ScrollBox._showDomesticLevel1List()}break;case 1:TS.LifeWeather.level1.code=d;TS.LifeWeather.level1.name=b;if(TS.LifeWeather.isWorld()){TS.LifeWeather.ScrollBox._showWorldLevel2List()
}else{TS.LifeWeather.ScrollBox._showDomesticLevel2List()}TS.LifeWeather.ScrollBox._updateNav();break;case 2:TS.LifeWeather.level2.code=d;TS.LifeWeather.level2.name=b;if(TS.LifeWeather.isWorld()){TS.LifeWeather._setCookie();
TS.LifeWeather._setPage();TS.LifeWeather.ScrollBox.hide()}else{TS.LifeWeather.ScrollBox._updateNav();TS.LifeWeather.ScrollBox._showDomesticLevel3List()}break;case 3:TS.LifeWeather.level3.code=d;TS.LifeWeather.level3.name=b;
TS.LifeWeather._setCookie();TS.LifeWeather._setPage();TS.LifeWeather.ScrollBox.hide();break}}}}},Wiget:{open:function(){var a=$Element($$.getSingle(".ly_tsq_wg",TS.timesquare));if(a.child().length==0){a.html('<h5>생활위젯</h5><ul><li><a target="_blank" href="http://search.naver.com/search.naver?where=nexearch&query=%EC%83%9D%EB%85%84%EC%9B%94%EC%9D%BC+%EC%9A%B4%EC%84%B8&sm=top_tsw&fbm=1&ie=utf8" onclick="clickcr(this,\'tsw.fortune\',\'\',\'\',event);"><span class="wgi wgi1"></span>운세</a></li><li><a target="_blank" href="http://search.naver.com/search.naver?where=nexearch&query=%ED%99%98%EC%9C%A8&sm=top_tsw&fbm=1&ie=utf8" onclick="clickcr(this,\'tsw.exchange\',\'\',\'\',event);"><span class="wgi wgi2"></span>환율</a></li><li><a target="_blank" href="http://search.naver.com/search.naver?where=nexearch&query=%EA%B3%84%EC%82%B0%EA%B8%B0&sm=top_tsw&fbm=1&ie=utf8" onclick="clickcr(this,\'tsw.calculator\',\'\',\'\',event);"><span class="wgi wgi3"></span>계산기</a></li><li><a target="_blank" href="http://search.naver.com/search.naver?where=nexearch&query=%EB%8B%A8%EC%9C%84%EB%B3%80%ED%99%98&sm=top_tsw&fbm=1&ie=utf8" onclick="clickcr(this,\'tsw.measure\',\'\',\'\',event);"><span class="wgi wgi4"></span>단위변환</a></li><li><a target="_blank" href="http://search.naver.com/search.naver?where=nexearch&query=%EC%84%B8%EA%B3%84%EC%8B%9C%EA%B0%84&sm=top_tsw&fbm=1&ie=utf8" onclick="clickcr(this,\'tsw.worldtime\',\'\',\'\',event);"><span class="wgi wgi5"></span>세계시계</a></li><li><a target="_blank" href="http://search.naver.com/search.naver?where=nexearch&query=%EB%84%A4%EC%9D%B4%EB%B2%84+%ED%83%80%EC%9D%B4%EB%A8%B8&ie=utf8&sm=tab_she&qdt=0" onclick="clickcr(this,\'tsw.timer\',\'\',\'\',event);"><span class="wgi wgi6"></span>타이머</a></li><li><a target="_blank" href="http://search.naver.com/search.naver?where=nexearch&query=%EB%8B%AC%EB%A0%A5&sm=top_tsw&fbm=1&ie=utf8" onclick="clickcr(this,\'tsw.calendar\',\'\',\'\',event);"><span class="wgi wgi7"></span>달력</a></li><li><a target="_blank" href="http://search.naver.com/search.naver?where=nexearch&query=tv%ED%8E%B8%EC%84%B1%ED%91%9C&sm=top_tsw&fbm=1&acr=1&acq=TV&qdt=0&ie=utf8" onclick="clickcr(this,\'tsw.tvpro\',\'\',\'\',event);"><span class="wgi wgi8"></span>TV편성표</a></li></ul><a href="#" class="tsq_wg_close" onclick="clickcr(this,\'tsw.close\',\'\',\'\',event);TimeSquare.Wiget.close();return false;">생활위젯 레이어 닫기</a>')
}a.show()},close:function(){var a=$Element($$.getSingle(".ly_tsq_wg",TS.timesquare));a.hide()}},FinanInput:{onFocus:function(){var a=$$.getSingle(".tsq_news_wrap > .tsq_finan > .finan_search .input_finan",TS.pan);
if(a){var b=$Element(a);b.addClass("focus");b.attr("value","")}},onBlur:function(){var a=$$.getSingle(".tsq_news_wrap > .tsq_finan > .finan_search .input_finan",TS.pan);if(a){var b=$Element(a);b.removeClass("focus");
b.attr("value","주가")}},onClick:function(){var a=$$.getSingle(".tsq_news_wrap > .tsq_finan > .finan_search .input_finan",TS.pan);var c=$$.getSingle("form",TS.pan);if(a&&c){var b=$Element(a);if(!b.hasClass("focus")){location.replace("http://finance.naver.com/")
}else{c.submit()}}}},Rolling:function(c){this.isInited=false;if(typeof c=="undefined"||parseInt(c.length).toString()=="NaN"||c.length<1){return}this.items=c;this.length=c.length;this.curIdx=0;for(var a in c){var b=$Element(c[a]);
if(b.visible()){this.curIdx=a;break}}var f=this;this.start=function(g){var g=parseInt(g);if(g.toString()=="NaN"||g<1){return}if(f.interval){clearInterval(f.interval)}f.interval=setInterval(function(){f.curIdx++;
if(f.curIdx>=f.length){f.curIdx=0}$ElementList(f.items).addClass("hide");$Element(f.items[f.curIdx]).removeClass("hide")},g*1000)};this.stop=function(){clearInterval(f.interval)};this.move=function(g){g=g?g:0;
f.curIdx=g%f.length;$ElementList(f.items).addClass("hide");$Element(f.items[f.curIdx]).removeClass("hide")};this.isInited=true;this.isFirstFocus=true;for(var d=0;d<this.length;d++){var e=$Element(c[d]);
e.attach("mouseover",function(g){f.isFirstFocus=false;f.stop()});e.attach("mouseout",function(g){f.isFirstFocus=true;f.start(3)});e.attach("focus",function(g){if(f.isFirstFocus){var h=c[0];$ElementList(c).addClass("hide");
$Element(h).removeClass("hide");if(h.tagName.toUpperCase()!="A"){h=$$.getSingle("a",h)}if(h){h.focus()}f.isFirstFocus=false}f.stop()});e.attach("focusin",function(g){if(f.isFirstFocus){var h=c[0];$ElementList(c).addClass("hide");
$Element(h).removeClass("hide");if(h.tagName.toUpperCase()!="A"){h=$$.getSingle("a",h)}if(h){h.focus()}f.isFirstFocus=false}f.stop()});e.attach("blur",function(g){f.start(3)});e.attach("focusout",function(g){f.start(3)
});e.attach("keydown",function(p){var j=9;var o=p.key();var k=-1;for(var l in c){var h=$Element(c[l]);if(h.isEqual(p.element)||h.isParentOf(p.element)){k=l;break}}k=parseInt(k);if(k.toString()=="NaN"||k==-1){return
}if(o.keyCode==j){if(!o.shift){var q=c[k];var m=q;if(m.tagName.toUpperCase()!="A"){m=$$.getSingle("a:last-child",q)}if(p.element!=m){return}if(k==c.length-1){f.isFirstFocus=true;return}else{var g=c[k+1];
$ElementList(c).addClass("hide");$Element(g).removeClass("hide")}}else{if(k==0){f.isFirstFocus=true;return}var n=c[k-1];$ElementList(c).addClass("hide");$Element(n).removeClass("hide")}}})}},failMsg:function(b){var a=JEagleEyeClient._bEnable;
if(!a){JEagleEyeClient.setEnable(true)}JEagleEyeClient.sendError("[TIMESQUARE] Fail : "+b);if(!a){JEagleEyeClient.setEnable(false)}}};var TS=TimeSquare;var TimeSquarePromotion=$Class({$init:function(f,a,c,e,b,d){this.bannerName=f;
this.closeButton=a;this.link=c;this.cookieName=e;this.cookieExpire=b;this.clickLinkAndClose=d;$Fn(this.onCloseBanner,this).attach(this.closeButton,"click");$Fn(this.onClickLink,this).attach(this.link,"click");
this.checkBanner()},onCloseBanner:function(a){this.setCookie();$Element(this.bannerName).hide();a.stop()},onClickLink:function(a){if(this.clickLinkAndClose==1){this.setCookie()}},checkBanner:function(){var a=$Cookie().get(this.cookieName);
if(a==null){$Element(this.bannerName).show();if(typeof tspCookieName!="undefined"&&this.cookieName==tspCookieName){NMS.Log.send("act=pc.ts_special_banner&gdid="+tspCookieName+"&ts="+(new Date()).getTime())
}}else{$Element(this.bannerName).hide()}},setCookie:function(){$Cookie().set(this.cookieName,"1",this.cookieExpire)}});var tsp=$("promotion2");if(tsp!==null){var bannerPlate=new TimeSquarePromotion("promotion2","promotion2Close","promotion2Link",tspCookieName,tspCookieExpDate,tspOneTimeLink);
tsp=null}var tsb=$("promotion6");if(tsb!==null){var bannerBar=new TimeSquarePromotion("promotion6","promotion6Close","promotion6Link",tsbCookieName,tsbCookieExpDate,tsbOneTimeLink);tsb=null}var Themecast={loopCount:0,LOOP_LIMIT:30,cacheData:[],init:function(){this.cateArr=this.getCateArr();
this.configLayer=$Element("theme_config");this.EventManager.init();this.onLoadPage(this.Cate.getCurrentCode());if(global.isSupportedFlicking){this.Flicking.init()}},getCateArr:function(){var c=$A();var d=$$("#themecast_cate span a");
for(var a in d){var b=$Element(d[a]);c.push(b.attr("data-code"))}return c},Cate:{getCurrentCode:function(){return $Element($$.getSingle("#themecast_cate .on")).attr("data-code")},getNextCode:function(){var a=TC.cateArr.$value();
var c=this.getCurrentCode();for(var b=0;b<a.length;b++){if(a[b]==c){if(b<a.length-1){return a[b+1]}return a[0]}}},getPrevCode:function(){var a=TC.cateArr.$value();var c=this.getCurrentCode();for(var b=0;
b<a.length;b++){if(a[b]==c){if(b>0){return a[b-1]}return a[a.length-1]}}}},UI:{setCategoryIcon:function(a){$ElementList("#themecast_cate a").removeClass("on");$Element($$.getSingle("#themecast_cate ."+a+" a")).addClass("on")
},hideFlickingNoti:function(){var a=Themecast.UI;if(!a.oTransition){a.oTransition=new jindo.Transition()}a.oTransition.start(150,$$.getSingle("#themecast_contents .flick_prev"),{"@left":"-43px"},$$.getSingle("#themecast_contents .flick_next"),{"@right":"-43px"})
},showFlickingNoti:function(){var a=Themecast.UI;if(!global.isSupportedFlicking||(a.oTransition&&a.oTransition.isPlaying())){return}$Element($$.getSingle("#themecast .flick_prev")).css("left","0px");$Element($$.getSingle("#themecast .flick_next")).css("right","0px");
setTimeout(a.hideFlickingNoti,1000)}},onLoadPage:function(c,b){var a=$Element("themecast_contents");if(b){a.html(b)}NMS.Binder.bindImage(a);TC.UI.setCategoryIcon(c);switch(c){case"tcc_occ":TC.Opencast.init();
break}if(!$Cookie().get("NM_OPENCAST_FADEOUT")){$ElementList("#themecast .ly_opc_end").show()}},selectCategory:function(e,f,a){var b=this;if(!f){f=(!global.isSupportedFlicking)?this.onLoadPage:this.Flicking.loadBothCategory
}var d=this.cacheData[e];if(d){return f(e,d,a)}var c="/nvtheme_body2?theme="+e;$Ajax(c,{timeout:3,method:"get",onload:function(h){var g=h.text();b.cacheData[e]=g;f(e,g,a)},onerror:function(){JEagleEyeClient.sendError("[THEMECAST] ajax fail(onerror) - url : "+c)
},ontimeout:function(){JEagleEyeClient.sendError("[THEMECAST] ajax fail(ontimeout) - url : "+c)}}).request()},showConfig:function(){var a=this;var c=$Cookie().get("NM_THEMECAST_USER");var d=c?c:"tcc_non";
var b="/include/themecast/menu_config.2015.html";if(a.configLayer.child().length>0){a.configLayer.show();$("config_"+d).checked=true;$ElementList("#theme_config .radio-mark").removeClass("radio-checked");
$Element($$.getSingle("#theme_config .csl_"+d+" .radio-mark")).addClass("radio-checked")}else{$Ajax(b,{timeout:3,onload:function(e){a.configLayer.html(e.text());a.configLayer.show();$("config_"+d).checked=true;
$ElementList("#theme_config .radio-mark").removeClass("radio-checked");$Element($$.getSingle("#theme_config .csl_"+d+" .radio-mark")).addClass("radio-checked")},onerror:function(){JEagleEyeClient.sendError("[THEMECAST] ajax fail(onerror) - url : "+b)
},ontimeout:function(){JEagleEyeClient.sendError("[THEMECAST] ajax fail(ontimeout) - url : "+b)}}).request()}},hideConfig:function(){this.configLayer.hide()},setConfigCookie:function(){var a=$$.getSingle("#theme_config input[checked=true]").id.replace("config_","");
if(a&&a!="tcc_non"){$Cookie().remove("NM_THEMECAST_LAST");$Cookie().set("NM_THEMECAST_USER",a,3650);this.selectCategory(a)}else{if(a=="tcc_non"){$Cookie().remove("NM_THEMECAST_USER")}}this.hideConfig()
},EventManager:{init:function(){$Element("themecast_cate").delegate("click","a",this.onclickCategory);$Element("themecast_contents").delegate("click",".cpg a.pre",this.onclickPrev);$Element("themecast_contents").delegate("click",".cpg a.next",this.onclickNext);
$Element("themecast_contents").delegate("click",".tc_bottom .tc_set",this.onclickConfig);$Element("themecast_contents").delegate("click",".area_book .opg a",this.onclickBookMoveBtn);$Element("themecast_contents").delegate("click","a:not([href^=#])",this.onclickContentsLink);
$Element("theme_config").delegate("click",".cast_set_lst li",this.onclickRadio);$Element(document).attach("click",this.onclickDocument)},onclickCategory:function(b){b.stop();var c=$Element(b.element);if(c.hasClass("on")){return
}var d=$Element(b.element).attr("data-code");TC.selectCategory(d);var a="tct."+d.replace("tcc_","");clickcr(b.element,a,"","",b._event);TC.UI.showFlickingNoti()},onclickPrev:function(c){c.stop();var d=TC.cateArr.indexOf($Element($$.getSingle("#themecast_cate .on")).attr("data-code"));
var b=(d<=0)?(TC.cateArr.length()-1):(d-1);var a=TC.cateArr.get(b);TC.selectCategory(a);clickcr(c.element,"tct.prev","","",c._event);TC.UI.showFlickingNoti()},onclickNext:function(b){b.stop();var c=TC.cateArr.indexOf($Element($$.getSingle("#themecast_cate .on")).attr("data-code"));
var d=(c>=(TC.cateArr.length()-1))?0:(c+1);var a=TC.cateArr.get(d);TC.selectCategory(a);clickcr(b.element,"tct.next","","",b._event);TC.UI.showFlickingNoti()},onclickConfig:function(a){a.stop();TC.showConfig();
clickcr(a.element,"tcg.set","","",a._event)},onclickBookMoveBtn:function(b){b.stop();var d=$Element($$.getSingle("#themecast_contents .area_book .book_new"));var e=$ElementList("#themecast_contents .area_book .book_best");
if(d.isParentOf(b.element)){d.hide();var a=Math.floor(Math.random()*e.length());e.get(a).show()}else{e.hide();d.show()}var c=$Element($$.getSingle("#themecast_cate .on")).attr("data-code")+($Element(b.element).hasClass("prev")?".precnts":".nextcnts");
clickcr(b.element,c,"","",b._event)},onclickContentsLink:function(a){var b=TC.Cate.getCurrentCode();$Cookie().set("NM_THEMECAST_LAST",b,1/24/60*30);if(b=="tcc_occ"){var c=TC.Opencast.curCode;var d=TC.Opencast.curPage;
$Cookie().set("NM_OPENCAST_LAST",c+","+d,1/24/60*30)}},onclickDocument:function(a){TC.Opencast.Layer.leaveAll()},onclickRadio:function(a){var b=$Element(a.element);var c=b.className().replace("csl_tcc_","");
$ElementList("#theme_config .radio-mark").removeClass("radio-checked");b.query(".radio-mark").addClass("radio-checked");b.query("input").attr("checked",true);clickcr(a.element,"tcg."+c,"","",a._event)}},Opencast:{cache:{},template:{prefix:'<div class="opc"><h4 class="opc_tit"><a href="http://opencast.naver.com/{=id}/{=seq}" onclick="return clickcr(this,\'{=nclkArea}.title\',\'\',\'\', event);">{=volumeTitle }</a></h4><div class="opc_origin"><a href="http://opencast.naver.com/{=id}" onclick="return clickcr(this,\'{=nclkArea}.cast\',\'\',\'\', event);">{=title }</a><em> No.{=seq }</em><span class="bar"> | </span><a href="#" class="rd" data-cast-id="{=id}"><span></span> 구독</a></div>',"1":'<div class="opc_type_th"><div class="th"><a href="{=articles[0].url }" onclick="return clickcr(this,\'{=nclkArea}.contents\',\'\',\'\', event);"><span class="thumb"><img src="{=articles[0].thumbnailUrl}" width="142" height="83" alt="{=articles[0].title }"><span class="mask"></span></span><span class="t">{=articles[0].title }</span></a></div><ul>{for idx:article in articles}{if idx != 0}<li><a href="{=article.url }" onclick="return clickcr(this,\'{=nclkArea}.contents\',\'\',\'\', event);">{=article.title }</a></li>{/if}{/for}</ul></div>',"3":'<ul class="opc_type_lst">{for idx:article in articles}<li><a href="{=article.url }" onclick="return clickcr(this,\'{=nclkArea}.contents\',\'\',\'\', event);"><span class="thumb"><img src="{=article.thumbnailUrl }" width="142" height="83" alt="{=article.title }"><span class="mask"></span></span><span class="t">{=article.title }</span></a></li>{/for}</ul>'},ERR_SERVER_CHECKING:-8,ERR_UNSUBSCRIBE_MYCAST:-3,HTML_SERVER_CHECKING:'<div class="opc_alert"><span class="ic_alert"></span><p class="oa1">MY캐스트 서버 점겅중입니다.</p><p class="oa2">서버 점검으로 일시적으로 MY캐스트 목록을 가져올 수 없습니다.<br>잠시 후에 다시 시도해 주세요.</p></div>',HTML_SERVER_ERROR:'<div class="opc_alert"><span class="ic_alert"></span><p class="oa3">일시적인 장애로 캐스트 목록을 가져올 수 없습니다.</p><p class="oa2">잠시 후에 다시 시도해 주세요.</p></div>',emptyCastHTML:'<div class="opc"><div class="opc_subs"><a href="http://opencast.naver.com/"><span class="ic_subs"></span><p>더 다양한 캐스트를 구독해보세요</p></a></div></div>',SIZE:4,init:function(){if(this.isInited){return
}this.isInited=true;this.curPage=1;this.curCode=$Element($$.getSingle("#themecast_contents .opc_cate a.on")).attr("data-code");this.subsCastIdArr=$A();this.EventManager.init();this.loadCateInfo();if(isLogin){this.loadMyCastInfo()
}this.onLoad()},onLoad:function(){this.changeSubsBtn();TC.loopCount=0},loadCateInfo:function(){var a=this;var b="/include/themecast/tcc_occ/000000/category_info.json";$Ajax(b,{timeout:3,onload:function(f){a.cache.categoryList=f.json();
var c=$Cookie().get("NM_OPENCAST_LAST");if(c&&c.search(",")>-1&&c.search("S99")<0){var d=c.split(",")[0];var e=parseInt(c.split(",")[1],10);a.move(d,e)}},onerror:function(){JEagleEyeClient.sendError("[THEMECAST - OPENCAST] ajax fail(onerror) - url : "+b)
},ontimeout:function(){JEagleEyeClient.sendError("[THEMECAST - OPENCAST] ajax fail(ontimeout) - url : "+b)}}).request()},loadMyCastInfo:function(){var a=this;var b="http://navertop.opencast.naver.com/mycast/"+isLogin+".jsonp";
$Ajax(b,{type:"jsonp",timeout:3,onload:function(h){a.cache.myCastList=h.json();a.subsCastIdArr.empty();for(var d in a.cache.myCastList){var c=a.cache.myCastList[d];a.subsCastIdArr.push(c.id)}a.onLoad();
var e=$Cookie().get("NM_OPENCAST_LAST");if(e&&e.search(",")>-1&&e.search("S99")>-1){var f=e.split(",")[0];var g=parseInt(e.split(",")[1],10);a.move(f,g)}},onerror:function(){JEagleEyeClient.sendError("[THEMECAST - OPENCAST] ajax fail(onerror) - url : "+b)
},ontimeout:function(){JEagleEyeClient.sendError("[THEMECAST - OPENCAST] ajax fail(ontimeout) - url : "+b)}}).request()},removeInMyCastInfo:function(d){var c=[];for(var b in this.cache.myCastList){var a=this.cache.myCastList[b];
if(a.id!=d){c.push(a)}}this.cache.myCastList=c;if(this.curCode=="S99"){this.setMyContents(this.curPage)}},insertInMyCastInfo:function(d,e){var c=this.cache.categoryList[d].casts;for(var b in c){var a=c[b];
if(a.id==e){this.cache.myCastList.push(a)}}},changeSubsBtn:function(){if(isLogin&&this.cache.myCastList&&this.cache.myCastList.length>0){var c=$$("#themecast_contents .opc_swipe .opc [data-cast-id]");for(var b in c){var a=$Element(c[b]);
var d=a.attr("data-cast-id");if(this.subsCastIdArr.has(d)){a.className("del");a.html("<span></span> 해지")}else{a.className("rd");a.html("<span></span> 구독")}}}},setContents:function(a,i,j){this.curCode=a;
this.curPage=i;$ElementList("#themecast_contents .opc_w .opc_cate a").removeClass("on");var c=$Element($$.getSingle("#themecast_contents .opc_w .opc_cate a[data-code="+this.curCode+"]"));c.addClass("on");
$$.getSingle("#themecast_contents .opc_w h4").innerHTML=c.html();var g="";for(var l in j){var d=j[l];d.volumeTitle=(d.data.volumeTitle)?d.data.volumeTitle:d.title;var f=d.data.volume.pages[0];for(var e in f.articles){var h=f.articles[e];
h.thumbnailUrl=h.thumbnailUrl?h.thumbnailUrl:"http://static.naver.net/opencast/admin/img/default_100x60.gif";h.thumbnailUrl=(h.thumbnailUrl.search("type=")>-1)?h.thumbnailUrl:h.thumbnailUrl+"?type=f14283"
}var b=$Element($$.getSingle("#themecast_contents .opc_w .opc_cate a.on")).attr("data-nclkarea");d.nclkArea=b;f.nclkArea=b;if(typeof d.seq=="undefined"){d.seq=d.volumeSeq}g+=$Template(this.template.prefix).process(d);
g+=$Template(this.template[f.halfLayout]).process(f);g+="</div>"}if(a="S99"&&j.length<4){var k=4-j.length;for(var l=0;l<k;l++){g+=this.emptyCastHTML}}$$.getSingle("#themecast_contents .opc_swipe").innerHTML=g;
this.onLoad()},setMyContents:function(e){var c=this;if(!this.cache.myCastList){$$.getSingle("#themecast_contents .opc_swipe").innerHTML=this.HTML_SERVER_ERROR}var d=this.cache.myCastList.slice(this.SIZE*(e-1),this.SIZE*e);
if(d.length<=0&&e==1){if(c.curCode=="S99"){c.move("S10",1);return}c.Layer.NoCast.show();return}else{if(d.length<=0&&e>1){c.setMyContents(e-1);return}}for(var b in d){var a=d[b];if(a.data){if(this.isAllCastLoaded(d)){c.setContents("S99",e,d)
}}else{(function(f){var g="http://navertop.opencast.naver.com/cast/"+f.id+".jsonp";$Ajax(g,{type:"jsonp",timeout:3,onload:function(i){var h=i.json();if(!c.isValid(h)&&TC.loopCount<TC.LOOP_LIMIT){TC.loopCount++;
c.curCode="S99";c.curPage=e;c.removeInMyCastInfo(f.id);return}f.data=i.json();if(c.isAllCastLoaded(d)){c.setContents("S99",e,d)}},onerror:function(){$$.getSingle("#themecast_contents .opc_swipe").innerHTML=c.HTML_SERVER_ERROR;
JEagleEyeClient.sendError("[THEMECAST - OPENCAST] ajax fail(onerror) - url : "+g)},ontimeout:function(){$$.getSingle("#themecast_contents .opc_swipe").innerHTML=c.HTML_SERVER_ERROR;JEagleEyeClient.sendError("[THEMECAST - OPENCAST] ajax fail(ontimeout) - url : "+g)
}}).request()})(a)}}},move:function(b,c){if(b==self.curCode&&c==self.curPage){return}if(!isLogin&&b=="S99"){this.Layer.Logout.show()}else{if(b=="S99"){this.setMyContents(c)}else{var a=this.cache.categoryList[b].casts;
this.setContents(b,c,a.slice(this.SIZE*(c-1),this.SIZE*c))}}},movePrev:function(){var b=this.curCode;var d=this.curPage-1;if(this.isOverFlow(b,d)){var c=this.getCateArr();var e=c.indexOf($$.getSingle("#themecast_contents .opc_cate a.on"));
var a=(e<=0)?(c.length()-1):(e-1);b=$Element(c.get(a)).attr("data-code");d=this.getLastPage(b)}this.move(b,d)},moveNext:function(){var a=this.curCode;var b=this.curPage+1;if(this.isOverFlow(a,b)){var c=this.getCateArr();
var d=c.indexOf($$.getSingle("#themecast_contents .opc_cate a.on"));var e=(d>=(c.length()-1))?0:(d+1);a=$Element(c.get(e)).attr("data-code");b=1}this.move(a,b)},isOverFlow:function(b,c){if(c==0){return true
}var a=this.getLastPage(b);return(c>a)?true:false},getLastPage:function(b){var a=null;if(b=="S99"){return Math.ceil(this.cache.myCastList.length/this.SIZE)}else{return Math.max(Math.floor(this.cache.categoryList[b].casts.length/this.SIZE),1)
}},getCateArr:function(){var a=$A($$("#themecast_contents .opc_cate a"));if(!this.cache.myCastList||this.cache.myCastList.length<1){a=a.filter(function(b){return($Element(b).attr("data-code")!="S99")})
}return a},isAllCastLoaded:function(b){for(var a in b){if(!b[a].data){return false}}return true},isValid:function(a){if(a.status=="R"||a.status=="W"||a.status=="G"){return false}else{if(typeof a.volume=="undefined"||typeof a.volume.pages=="undefined"||a.volume.pages[0].halfLayout==2){return false
}}if(a.volume.pages.length>0){return true}return false},unsubscribe:function(c){var b="http://opencast.naver.com/naverhome/unsubscribe.nhn?castId="+c;var a=this;$Ajax(b,{type:"jsonp",callbackname:"callback",timeout:3,onload:function(e){var d=e.json();
if(d.result=="success"){a.subsCastIdArr=a.subsCastIdArr.filter(function(f){return(f!=c)});a.changeSubsBtn();a.removeInMyCastInfo(c)}else{if(d.returnValue.errorCode==a.ERR_SERVER_CHECKING){$$.getSingle("#themecast_contents .opc_swipe").innerHTML=a.HTML_SERVER_CHECKING
}else{if(d.returnValue.errorCode==a.ERR_UNSUBSCRIBE_MYCAST){a.Layer.FailMyCast.show(c)}else{a.Layer.Fail.show(c)}}JEagleEyeClient.sendError("[THEMECAST - OPENCAST] unsubscribe response error (is not success) : "+b)
}},onerror:function(){a.Layer.Fail.show(c);JEagleEyeClient.sendError("[THEMECAST - OPENCAST] ajax fail(onerror) - url : "+b)},ontimeout:function(){a.Layer.Fail.show(c);JEagleEyeClient.sendError("[THEMECAST - OPENCAST] ajax fail(ontimeout) - url : "+b)
}}).request();a.Layer.leave("opc_layer_unsubs")},EventManager:{init:function(){var a=$Element("themecast_contents");a.delegate("click",".opc_cate a[data-code]",this.onclickCategory);a.delegate("click",".opc_w .opg a.pre",this.onclickPrev);
a.delegate("click",".opc_w .opg a.next",this.onclickNext);a.delegate("click",".opc_w .rd",this.onclickSubscribe);a.delegate("click",".opc_w .del",this.onclickUnSubscribe);a.delegate("click","#opc_end_close",this.onclickFadeOutClose)
},onclickCategory:function(a){a.stop();var b=$Element(a.element);if(b.hasClass("on")){return}var c=b.attr("data-code");TC.Opencast.move(c,1);var d=b.attr("data-nclk");clickcr(a.element,d,"","",a._event)
},onclickNext:function(a){a.stop();TC.Opencast.moveNext();clickcr(a.element,"oct.next","","",a._event)},onclickPrev:function(a){a.stop();TC.Opencast.movePrev();clickcr(a.element,"oct.prev","","",a._event)
},onclickSubscribe:function(b){b.stop();var a=$Element(b.element);if(!isLogin){TC.Opencast.Layer.LogoutSubs.show(a);return}var f=a.attr("data-cast-id");var d="http://opencast.naver.com/naverhome/subscribe.nhn?castId="+f;
var c=TC.Opencast;$Ajax(d,{type:"jsonp",callbackname:"callback",timeout:3,onload:function(h){var g=h.json();if(g.result=="success"){c.subsCastIdArr.push(f);c.changeSubsBtn();c.Layer.Subs.show(a,$$.getSingle("a",a.parent()).innerHTML);
c.insertInMyCastInfo(c.curCode,f)}else{if(g.returnValue.errorCode==c.ERR_SERVER_CHECKING){$$.getSingle("#themecast_contents .opc_swipe").innerHTML=c.HTML_SERVER_CHECKING}else{c.Layer.Fail.show(f)}JEagleEyeClient.sendError("[THEMECAST - OPENCAST] subscribe response error (is not success) : "+d)
}},onerror:function(){c.Layer.Fail.show(f);JEagleEyeClient.sendError("[THEMECAST - OPENCAST] ajax fail(onerror) - url : "+d)},ontimeout:function(){c.Layer.Fail.show(f);JEagleEyeClient.sendError("[THEMECAST - OPENCAST] ajax fail(ontimeout) - url : "+d)
}}).request();var e=$Element($$.getSingle("#themecast_contents .opc_w .opc_cate a.on")).attr("data-nclkarea");clickcr(b.element,e+".subscribe","","",b._event)},onclickUnSubscribe:function(b){b.stop();var a=$Element(b.element);
var d=a.attr("data-cast-id");TC.Opencast.Layer.UnSubs.show(a,d,$$.getSingle("a",a.parent()).innerHTML);var c=$Element($$.getSingle("#themecast_contents .opc_w .opc_cate a.on")).attr("data-nclkarea");clickcr(b.element,c+".cancel","","",b._event)
},onclickFadeOutClose:function(a){a.stop();$ElementList("#themecast .ly_opc_end").hide();$Cookie().set("NM_OPENCAST_FADEOUT","1",365);clickcr(a.element,"oct.topbnclose","","",a._event)}},Layer:{Logout:{html:'<div id="opc_layer_logout" class="ly_oc ly_oc2"><p>로그인 후 MY캐스트를<br>이용해보세요.</p><a href="#" title="닫기" class="close" onclick="TC.Opencast.Layer.leave(\'opc_layer_logout\');return false;">닫기</a><span class="arrow"></span></div>',show:function(){TC.Opencast.Layer.leave("opc_layer_logout");
var a=$Element($$.getSingle("#themecast_contents .opc_w .opc_cate a[data-code=S99]"));a.afterHTML(this.html)}},LogoutSubs:{html:'<div id="opc_layer_logout_subs" class="ly_oc ly_oc2"><p>로그인 후 구독하기를<br>이용해 보세요.</p><a href="#" title="닫기" class="close" onclick="TC.Opencast.Layer.leave(\'opc_layer_logout_subs\');return false;">닫기</a></div>',show:function(a){TC.Opencast.Layer.leave("opc_layer_logout_subs");
a.afterHTML(this.html)}},Subs:{template:'<div class="ly_subs" id="opc_layer_subs"><h5 class="blind">구독설정 확인창</h5><p class="subs_title"><strong title="{=title}">{=title}</strong> 캐스트가<br>구독되었습니다.</p><p class="subs_d">MY캐스트와 네이버me에서 확인 할 수 있습니다.</p><div class="subs_act"><a href="http://opencast.naver.com/home/myCastFlow.nhn" class="btn_my" onclick="return clickcr(this,\'oct*s.mycast\',\'\',\'\', event);">MY캐스트가기</a><a href="http://me.naver.com/" class="btn_me" onclick="return clickcr(this,\'oct*s.naverme\',\'\',\'\', event);">네이버me가기</a></div><a href="#" onclick="clickcr(this,\'oct*s.close\',\'\',\'\', event);TC.Opencast.Layer.leave(\'opc_layer_subs\');return false;" title="닫기" class="btn_close">닫기</a></div>',show:function(c,d){TC.Opencast.Layer.leave("opc_layer_subs");
var b={};b.title=d;var a=$Template(this.template).process(b);c.afterHTML(a)}},UnSubs:{template:'<div id="opc_layer_unsubs" class="ly_subs ly_subs_del" ><h5 class="blind">구독해지 확인창</h5><p class="subs_title"><strong title="{=title}">{=title}</strong> 캐스트를<br>구독해지 하시겠습니까?</p><div class="subs_act"><a href="#" class="btn_check" onclick="clickcr(this,\'oct*c.ok\',\'\',\'\', event);TC.Opencast.unsubscribe(\'{=castId}\');return false;">확인</a><a href="#" onclick="clickcr(this,\'oct*c.cancel\',\'\',\'\', event);TC.Opencast.Layer.leave(\'opc_layer_unsubs\');return false;" class="btn_cancel">취소</a></div><a href="#" onclick="clickcr(this,\'oct*c.close\',\'\',\'\', event);TC.Opencast.Layer.leave(\'opc_layer_unsubs\');return false;" title="닫기" class="btn_close">닫기</a></div>',show:function(d,c,e){TC.Opencast.Layer.leave("opc_layer_unsubs");
var b={};b.castId=c;b.title=e;var a=$Template(this.template).process(b);d.afterHTML(a)}},Fail:{html:'<div class="ly_subs" id="opc_layer_fail"><h5 class="blind">구독설정 확인창</h5><p class="subs_title err">일시적인 장애로 서비스 이용이<br>원활하지 않습니다.</p><p class="subs_d">잠시 후에 다시 시도해 주세요</p><div class="subs_act"><a href="#" class="btn_check" onclick="TC.Opencast.Layer.leave(\'opc_layer_fail\');return false;">확인</a></div><a href="#" onclick="TC.Opencast.Layer.leave(\'opc_layer_fail\');return false;" title="닫기" class="btn_close">닫기</a></div>',show:function(b){TC.Opencast.Layer.leave("opc_layer_fail");
var a=$Element($$.getSingle("#themecast_contents .opc a[data-cast-id="+b+"]"));if(a){a.afterHTML(this.html)}}},FailMyCast:{html:'<div class="ly_subs" id="opc_layer_failmycast"><h5 class="blind">구독설정 확인창</h5><p class="subs_title err">자신이 운영하는 캐스트는<br>해지할 수 없습니다.</p><div class="subs_act"><a href="#" class="btn_check" onclick="TC.Opencast.Layer.leave(\'opc_layer_failmycast\');return false;">확인</a></div><a href="#" onclick="TC.Opencast.Layer.leave(\'opc_layer_failmycast\');return false;" title="닫기" class="btn_close">닫기</a></div>',show:function(b){TC.Opencast.Layer.leave("opc_layer_failmycast");
var a=$Element($$.getSingle("#themecast_contents .opc a[data-cast-id="+b+"]"));if(a){a.afterHTML(this.html)}}},NoCast:{html:'<div class="ly_subs" id="opc_layer_nocast"><h5 class="blind">구독설정 확인창</h5><p class="subs_title"><strong>구독중인 캐스트가</strong> 없습니다.</p><p class="subs_d">캐스트를 구독하여 다양한 정보를 만나보세요.</p><div class="subs_act"><a href="http://opencast.naver.com/" class="btn_subs">구독하러 가기</a></div><a href="#" title="닫기" class="btn_close" onclick="TC.Opencast.Layer.leave(\'opc_layer_nocast\');return false;">닫기</a></div>',show:function(){TC.Opencast.Layer.leave("opc_layer_nocast");
var a=$Element($$.getSingle("#themecast_contents .opc_w .opc_cate a[data-code=S99]"));a.afterHTML(this.html)}},leave:function(b){var a=$Element(b);if(a){a.leave()}},leaveAll:function(){this.leave("opc_layer_logout");
this.leave("opc_layer_logout_subs")}}},Flicking:{template:{empty:'<div class="flick-panel"></div>'},init:function(){var a=this;var c=$Element($$.getSingle("#themecast_cate .on")).attr("data-code");var b=$Element($$.getSingle("div.flick-panel","themecast_contents"));
b.beforeHTML(this.template.empty);b.afterHTML(this.template.empty);this.oFlicking=new jindo.m.Flicking(jindo.$("themecast_contents"),{nDuration:300,nTotalContents:3,nDefaultIndex:1,bUseDiagonalTouch:true,sClassPrefix:"flick-",sContentClass:"panel",bUseCircular:true,bAutoSize:true});
this.oFlicking.attach({beforeFlicking:function(e){var d=TC.Flicking;if(e.bLeft){TC.onLoadPage(TC.Cate.getNextCode())}else{TC.onLoadPage(TC.Cate.getPrevCode())}},afterFlicking:function(e){var d=TC.Flicking;
if(e.bLeft){TC.selectCategory(TC.Cate.getNextCode(),d.loadCompleteCallback,this.getNextElement())}else{TC.selectCategory(TC.Cate.getPrevCode(),d.loadCompleteCallback,this.getPrevElement())}TC.UI.showFlickingNoti()
}});this.loadBothCategory(c)},getNextCode:function(){var a=TC.cateArr.$value();var c=TC.Cate.getCurrentCode();for(var b=0;b<a.length;b++){if(a[b]==c){if(b<a.length-2){return a[b+2]}return a[b-a.length+2]
}}},getPrevCode:function(){var a=TC.cateArr.$value();var c=TC.Cate.getCurrentCode();for(var b=0;b<a.length;b++){if(a[b]==c){if(b>=2){return a[b-2]}return a[b+a.length-2]}}},loadBothCategory:function(c,a){var d=TC.Flicking;
var b=TC.Cate;if(a){d.oFlicking.getElement().html(a)}TC.onLoadPage(c);TC.selectCategory(b.getPrevCode(),d.loadCompleteCallback,d.oFlicking.getPrevElement());TC.selectCategory(b.getNextCode(),d.loadCompleteCallback,d.oFlicking.getNextElement())
},loadCompleteCallback:function(b,a,c){c.html(a)}}};var TC=Themecast;var AdMobile={init:function(){this.liElement=$$(".mb_info ul li");this.buttonElement=$$(".mb_info button");if(this.liElement.length==0&&this.buttonElement==0){return
}this.tabAppIndex=0;this.tabWebIndex=1;this.itemDisplayCount=4;this.tabIndex=0;this.itemIndex=0;this.elWebTab=$Element(this.buttonElement[this.tabWebIndex]);this.elAppTab=$Element(this.buttonElement[this.tabAppIndex]);
$Fn(this._onAppTabClick,this).attach(this.buttonElement[this.tabAppIndex],"click");$Fn(this._onWebTabClick,this).attach(this.buttonElement[this.tabWebIndex],"click");$Fn(this._onPrevClick,this).attach(this.buttonElement[2],"click");
$Fn(this._onNextClick,this).attach(this.buttonElement[3],"click");this.clickItem=$Fn(this._onClickItem,this);for(var b=0;b<this.liElement.length;b++){var a=$Element(this.liElement[b]).first().$value();
this.clickItem.attach(a,"click")}this.data=null;this.dataWeb=null;this.dataApp=null},_onAppTabClick:function(a){this.tabIndex=this.tabAppIndex;this.itemIndex=0;this.setTab();this.checkCacheData();clickcr(a.element,"mob*a.title","","",a._event,1);
a.stop();return false},_onWebTabClick:function(a){this.tabIndex=this.tabWebIndex;this.itemIndex=0;this.setTab();this.checkCacheData();clickcr(a.element,"mob*w.title","","",a._event,1);a.stop();return false
},_onPrevClick:function(a){this.checkCacheData(-1);if(this.tabIndex==this.tabWebIndex){clickcr(a.element,"mob*w.back","","",a._event,1)}else{clickcr(a.element,"mob*a.back","","",a._event,1)}a.stop();return false
},_onNextClick:function(a){this.checkCacheData(1);if(this.tabIndex==this.tabWebIndex){clickcr(a.element,"mob*w.next","","",a._event,1)}else{clickcr(a.element,"mob*a.next","","",a._event,1)}a.stop();return false
},_onClickItem:function(a){var b=a.currentElement;var c=b.name;if(this.tabIndex==this.tabWebIndex){clickcr(b,"mob*w.icon",c,"",a._event)}else{clickcr(b,"mob*a.icon",c,"",a._event)}},setTab:function(){if(this.tabIndex==this.tabWebIndex){this.elWebTab.parent().className("btn_mweb btn_mweb_on");
this.elAppTab.parent().className("btn_app")}else{this.elWebTab.parent().className("btn_mweb");this.elAppTab.parent().className("btn_app btn_app_on")}},checkCacheData:function(a){if(this.data==null){var b=$Ajax("/include/admobile/admobile.json",{onload:function(c){AD.data=c.json();
AD.dataWeb=AD.data.web;AD.dataApp=AD.data.app;AD.setData();AD.move(a)},onerror:function(c){JEagleEyeClient.sendError("[ADMOBILE] json load failed")}}).request();b=null}else{this.setData();this.move(a)}},setData:function(){if(this.tabIndex==this.tabWebIndex){this.data=this.dataWeb
}else{this.data=this.dataApp}},setIndex:function(a){if(a==-1){this.itemIndex-=this.itemDisplayCount;if(this.itemIndex<0){this.itemIndex+=this.data.length;var b=this.data.length%this.itemDisplayCount;if(b!=0){var c=this.itemDisplayCount-b;
this.itemIndex+=c}}}else{if(a==1){this.itemIndex+=this.itemDisplayCount;if(this.itemIndex>=this.data.length){this.itemIndex=0}}else{}}},move:function(b){this.setIndex(b);var a=this.itemIndex;for(var g=0;
g<this.liElement.length;g++){var c=this.liElement[g];var f=$Element(c).first();if(f!=null){var e=f.$value();this.clickItem.detach(e,"click");e.onclick=null;$Element(c).empty();c.className=""}if(a>=this.data.length){}else{if(this.data[a].title2!=""){c.className=this.data[a].classid+" vary"
}else{c.className=this.data[a].classid}var e=this.makeLink(this.data[a]);var d=$Element(e);this.clickItem.attach(d.$value(),"click");$Element(c).append(d)}a++}},makeLink:function(b){var a=[];a.push('<a href="');
a.push(b.url);a.push('" name="');a.push(b.gdid);a.push('">');a.push(b.title1);if(b.title2!=""){a.push("<br />");a.push(b.title2)}a.push("</a>");return a.join("")}};var AD=AdMobile;var Question={init:function(a,b){this.index=a;
this.size=b;this.data=null;this.elPageNum=$$.getSingle("#search_link .slkpage_num");this.click=$Fn(this.setClickcr,this);$Fn(this._onClickPrev,this).attach("qst_prev","click");$Fn(this._onClickNext,this).attach("qst_next","click");
this._setPageNum()},_onClickPrev:function(a){this.move(0);clickcr(a.element,"txt.prev","","",a._event,1);a.stop()},_onClickNext:function(a){this.move(1);clickcr(a.element,"txt.next","","",a._event,1);a.stop()
},move:function(c){if(this.data==null){var a="/include/question/question.json.10";if("2"==$Cookie().get("nx_ssl")){a="/include/question/question_ssl.json.10"}var b=$Ajax(a,{onload:function(d){if(d.status()==200){QST.data=d.json();
QST.setIndex(c)}},onerror:function(d){LogError("[QUESTION] ajax data loading failed")}});b.header("If-Modified-Since","Thu, 1 Jan 1970 00:00:00 GMT");b.request();b=null}else{this.setIndex(c)}},setIndex:function(a){if(a){if(this.index==this.data.length-1){this.index=0
}else{this.index++}}else{if(this.index==0){this.index=(this.data.length-1)}else{this.index--}}this.changeData()},changeData:function(){var e=$Element("qu_txt");var a=this.data[this.index].length;this.detachClickcr();
e.empty();for(var d=0;d<a;d++){var b=this.data[this.index];var c=[];if(d==0){c.push("<span>")}else{c.push('<span class="e">')}c.push('<a href="');c.push(b[d].url);c.push('" title="');c.push(b[d].txt);c.push('" name="');
c.push(b[d].gdid);if(this.data[this.index][d].new_yn=="Y"){c.push('" target="_blank"')}c.push('">');c.push(b[d].txt);c.push("</a></span>\n");e.$value().innerHTML+=c.join("")}this.attachClickcr(e);this._setPageNum()
},detachClickcr:function(){var b=$$("#qu_txt a");for(var a=0;a<b.length;a++){this.click.detach(b[a],"click");b[a].onclick=null}},attachClickcr:function(b){var c=$$("#qu_txt a");for(var a=0;a<c.length;a++){this.click.attach(c[a],"click")
}},setClickcr:function(a){var b=a.currentElement;clickcr(a.element,"txt.search",b.name,"",a._event)},_setPageNum:function(){if(!this.elPageNum){return}this.elPageNum.innerHTML="<strong>"+(this.index+1)+"</strong>/"+this.size
}};var QST=Question;var SlidePromotion={init:function(a,d,b,c){this.element=$Element(a);this.closeButton="promotion8_close";this.cookieName=d;this.cookieExpire=b;this.clickLinkAndClose=c;this.heightNow=0;
this.heightUnit=3;this.heightLimit=-31;this.slidingStatus=null;if($(this.closeButton)){$Fn(this.onCloseBanner,this).attach(this.closeButton,"click")}this.checkBanner()},checkBanner:function(b){var a=$Cookie().get(this.cookieName);
if(a==null){this.show()}else{this.hide()}},onCloseBanner:function(a){this.hide();this.setCookie();clickcr(a.element,"tsb.close","","",a._event,1);a.stop()},onClickBanner:function(a,b){clickcr(a,"tsb.link",this.cookieName,"",b);
if(slidingOneTimeLink=="1"){this.setCookie()}},setCookie:function(){$Cookie().set(this.cookieName,"1",this.cookieExpire)},hide:function(){this.element.hide()},show:function(){this.element.css({top:[this.heightLimit,"px"].join("")});
this.element.show();this.slide()},slide:function(){var a=this.heightLimit+this.heightNow;if(a>=0){a=0}this.element.css({top:[a,"px"].join("")});if(a==0){clearTimeout(this.slidingStatus);this.slidingStatus=setTimeout("SlidePromotion.fadeout();",12000)
}else{this.heightNow+=this.heightUnit;this.slidingStatus=setTimeout("SlidePromotion.slide();",30)}},fadeout:function(){var a=this.heightLimit+this.heightNow;if(a<=this.heightLimit){a=this.heightLimit}this.element.css({top:[a,"px"].join("")});
if(a==this.heightLimit){clearTimeout(this.slidingStatus);this.slidingStatus=null}else{this.heightNow-=this.heightUnit;this.slidingStatus=setTimeout("SlidePromotion.fadeout();",30)}}};var RightBanner={init:function(){var a=$Element("promotion11");
if(a==null||a.attr("data-rolling")!="on"){return}this.items=$$("#promotion11 a");if(this.items.length<=2){return}var b=this;this.roll=new Rolling();this.roll.touch("promotion11",{direction:1,size:(b.items.length-1)*40,moveSize:40,moveStep:0.1,moveInterval:30,effect:function(c){var c=Math.sin(c*(Math.PI/2));
return c*c*c*c},freeze:5000})}};var CenterBanner={init:function(){this.wel=$Element("promotion1");if(!this.wel){return}this.cookieName=this.wel.attr("data-cookie");$Element("promotion1_link").attach("click",this._onClickLink);
$Element("promotion1_close").attach("click",this._onClickClose);if(!$Cookie().get(this.cookieName)){this.wel.show();NMS.Log.send("act=pc.center_banner&ts="+(new Date()).getTime())}},_onClickLink:function(b){var a=CenterBanner;
a._setCookie(1);clickcr(b.element,"neb.image","","",b._event,1)},_onClickClose:function(b){b.stop();var a=CenterBanner;a._setCookie(6);a.wel.hide();clickcr(b.element,"neb.imagecls","","",b._event,1)},_setCookie:function(b){var a=CenterBanner;
$Cookie().set(a.cookieName,"1",b)}};var MainFrame={isMinimeExpanded:false,getJindoLibURL:function(){if(jindoAll.search(/s.pm.naver.net/)>0){return jindoAll}else{return"http://"+location.host+jindoAll}},setMyExpandedLayerVisible:function(a){var b=$Element("minime");
if(a){b.css("background-color","#fff");b.css("position","absolute");b.css("height","410px");$Element("ad_branding_hide").show();MainFrame.isMinimeExpanded=true}else{b.css("background-color","");b.css("position","relative");
b.css("height","99px");$Element("ad_branding_hide").hide();MainFrame.isMinimeExpanded=false}},moveURL:function(a,b,c){if(!b){location.href=a;return}window.open(a,b,c)},setNavermeNotiCnt:function(a){a=parseInt(a,10);
var b=$Element($$.getSingle("#nav_hm3 a .ns"));if(a>0&&!b){b=$Element('<span class="ns"></span>');$Element($$.getSingle("#nav_hm3 a")).append(b)}if(a==0&&b){b.leave()}else{if(a>0){b.html("<em>"+(a>99?"99+":a)+"</em>")
}}}};