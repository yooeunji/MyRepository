var Rolling=$Class({_area:null,_options:null,_reserved_options:null,_waiter:null,_mover:null,_percent:0,_fromTo:null,_paused:true,$init:function(){},touch:function(b,a){this._area=$(b);this._options={};
(function(e,d){for(var c in d){e[c]=d[c]}return e})(this._options,a||{});this.scrollTo(0);if(!this._options.suspend){this.resume()}},scrollTo:function(a){a=a%this._options.size;if(a<0){a=this._options.size+a
}this._setScrollPos(a)},scrollBy:function(a){this.scrollTo(this._getScrollPos()+a)},_setScrollPos:function(a){this._area[this._options.direction==1?"scrollTop":"scrollLeft"]=a},_getScrollPos:function(){return this._area[this._options.direction==1?"scrollTop":"scrollLeft"]
},_applyReservedOptions:function(){if(this._reserved_options){(function(d,c){for(var b in c){d[b]=c[b]}return d})(this._options,this._reserved_options||{});this._reserved_options=null}},_startWaiting:function(){this._applyReservedOptions();
this._stopWaiting();this._stopMoving();if(this._paused){return}this._waiter=window.setTimeout($Fn(this._startMoving,this).bind(),this._options.freeze)},_stopWaiting:function(){if(this._waiter){window.clearTimeout(this._waiter)
}this._waiter=null},_startMoving:function(){this._applyReservedOptions();this._percent=0;this._fromTo=[];this._fromTo[0]=this._getScrollPos();this._fromTo[1]=this._options.moveSize;this._stopWaiting();
this._stopMoving();this._mover=window.setInterval($Fn(this._doMoving,this).bind(),this._options.moveInterval)},_stopMoving:function(){if(this._mover){window.clearInterval(this._mover)}this._mover=null},_doMoving:function(){if(this._percent>=1){this._startWaiting();
return}this._percent+=this._options.moveStep;this._percent=Math.round(this._percent*10000)/10000;if(this._percent>=1){this._percent=1}this.scrollTo(this._fromTo[0]+this._fromTo[1]*this._options.effect(this._percent))
},resume:function(){this._paused=false;if(!this._mover){this._startWaiting()}},pause:function(){this._stopWaiting();this._paused=true},getIndex:function(){var a=this._getScrollPos();return Math.round(a/this._options.moveSize)
},movePrev:function(){var a=this.getIndex();var b=(a-1)*this._options.moveSize;this.scrollTo(b);this._startWaiting()},moveNext:function(){var a=this.getIndex();var b=(a+1)*this._options.moveSize;this.scrollTo(b);
this._startWaiting()},setOptions:function(a){this._reserved_options={};this._reserved_options=(function(d,c){for(var b in c){d[b]=c[b]}return d})(this._reserved_options,a||{});if(this._mover==null){this._startMoving()
}}});var RealTimeRank={index:0,init:function(){this.roll=new Rolling();this.roll.touch("ranklist",{direction:1,size:200,moveSize:20,moveStep:0.1,moveInterval:30,effect:function(b){var b=Math.sin(b*(Math.PI/2));
return b*b*b*b},freeze:2000});this.bRankPop=false;if(!isMobile&&!$Agent().os().ipad){$Fn(this._onRankPopOver,this).attach("ranklist","mouseover");$Fn(this._onRankPopOut,this).attach("ranklist","mouseleave");
$Fn(this._onHideRankPop,this).attach("dim","mouseover");$Fn(this._onHideRankPop,this).attach("s_menu","mouseover")}else{if($("dim")){$Fn(this._onHideRankPop,this).attach("dim","touchstart")}}$Fn(this._onLoad,this).attach(window,"load");
$Fn(this._onClickForRank,this).attach("ranklist","click");$Fn(this._rankListFocus,this).attach("ranklist","focus",true);$Fn(this._rankListFocus,this).attach("ranklist","focusin",true);var a=$$("#ranklist ol li a");
this.firstRankList=a[0];$Fn(this._rankTitleKeyDown,this).attach(this.firstRankList,"keydown");$Fn(this._rankMoreKeyDown,this).attach(a[9],"keydown");this.keywordList=null;this.tooltipList=null;this.initTooltip()
},initTooltip:function(){this.keywordList=$$("#ranklist li a");this.tooltipList=new Array();for(var b=0;b<this.keywordList.length;b++){var a=$Element(this.keywordList[b]);this.tooltipList[b]=a.attr("title");
a.attr("title","")}},attachTooltip:function(){for(var a=0;a<this.keywordList.length;a++){$Element(this.keywordList[a]).attr("title",this.tooltipList[a])}},detachTooltip:function(){for(var a=0;a<this.keywordList.length;
a++){$Element(this.keywordList[a]).attr("title","")}},_onClickForRank:function(a){var b=a.element;if($Agent().os().ipad&&$("ranklist").className=="ranklist"){this._onRankPopOver(a);return}if(b.tagName=="SPAN"||b.tagName=="IMG"){b=b.parentNode
}if(b.tagName=="A"){clickcr(b,"lve.keyword","",b.parentNode.value,a._event)}},_onLoad:function(){this.roll.scrollTo(0)},showPop:function(){this.bMouseOver=true;$$.getSingle("#realrank li a").focus()},_onRankPopOver:function(a){RealTimeRank.bMouseOver=true;
setTimeout(RealTimeRank._checkShowRankPop,300);a.stop()},_onRankPopOut:function(a){RealTimeRank.bMouseOver=false;RealTimeRank._onHideRankPop(a)},_checkShowRankPop:function(){if(RealTimeRank.bMouseOver==true&&$("ranklist").className=="ranklist"){LoginCheck.nvLoginCheck("RealTimeRank",1);
RealTimeRank.index=RealTimeRank.roll.getIndex();var a=$Element($("ranklist").getElementsByTagName("li")[RealTimeRank.index]);a.addClass("on");$Element("lastrank").hide();$Element("dim").show();RealTimeRank.roll.pause();
RealTimeRank.roll.scrollTo(0);$("ranklist").className="rankpop";RealTimeRank.attachTooltip()}},_onHideRankPop:function(b){var c=b.element;var f=(b.relatedElement)||false;if(c.tagName=="IMG"){c=c.parentNode
}var g=0;try{g=c.parentNode.value}catch(j){}if(c.id=="dim"||c.id=="s_menu"||f.id=="dim"||f.id=="header"||f.id=="wrap"||f.id=="search"||(!f&&g==1)||(!f&&g==10)||f.className=="lnb"){if($("ranklist").className=="rankpop"){LoginCheck.nvLoginCheck("RealTimeRank",0);
$Element("lastrank").show();$Element("dim").hide();$("ranklist").className="ranklist";RealTimeRank.detachTooltip();var a=RealTimeRank.roll;a.scrollTo(a._options.moveSize*RealTimeRank.index);a.resume();
var h=$("ranklist").getElementsByTagName("li");for(var d=h.length-1;d>-1;--d){$Element(h[d]).removeClass("on")}}c=f=h=null;b.stop()}else{c=f=null;return}},_rankListFocus:function(a){if($Element("ranklist").hasClass("rankpop")==false){RealTimeRank.bMouseOver=true;
RealTimeRank._checkShowRankPop(a);$Element("dim").hide();a.stop();RealTimeRank.firstRankList.focus()}},_rankTitleKeyDown:function(a){if(a.key().shift&&a.key().keyCode==9){this.bMouseOver=false;this._onHideRankPop(a);
a.stop();if($Element("svcmore")&&$Element("svcmore").visible()){$("close_svc_layer").focus()}else{$("svcmore_h").focus()}}},_rankMoreKeyDown:function(a){if(a.key().keyCode==9&&a.key().shift==false){this.bMouseOver=false;
this._onHideRankPop(a);a.stop();$$.getSingle("#veta_top iframe").focus()}}};var ServiceMenu={aDefaultList:["dic","news","stock","land","map","movie","music","book","comic"],serviceTemplate:"<a class='mn_#GDID' title='#TITLE' href='http://#HREF'><span></span>#TITLE</a>",guideMsg:{view:"My메뉴 설정 버튼을 누르시면 자주 쓰는 메뉴를 설정하실 수 있습니다.",edit:"<strong>최대 5개</strong>까지 설정하실 수 있으며, 선택한 순서대로 제공됩니다. (메뉴영역에서 바로 확인하세요)"},init:function(a){this.BaseURL=a;
this.layer=new BDLayer();this.bGetHTML=false;this.aCacheList=[];this.aCookieList=[];this._initCookieList();$Fn(this._getHTML,this).attach("svcmore_h","click");$Fn(function(b){$Element(b.currentElement).first().addClass("over")
},this).attach("svcmore_h","mouseover");$Fn(function(b){$Element(b.currentElement).first().removeClass("over")},this).attach("svcmore_h","mouseout");$Fn(this._onClickForServiceMenu,this).attach("fmenu","click");
this._validCookie()},initForm:function(){this._clearCheckBox();this._initCheckBoxMenu(true)},isEqualsDefaultMenu:function(b){if(ServiceMenu.aDefaultList.length==b.length){for(var a=0;a<ServiceMenu.aDefaultList.length;
a++){if(ServiceMenu.aDefaultList[a]!=b[a]){return false}}return true}else{return false}},_onClickForServiceMenu:function(d){var e=d.element;if(e.tagName=="SPAN"){e=e.parentNode}if(e.tagName=="A"){var c=this._musicRadio(e);
var b=e.className.replace("mn_","");var f=null;var a="svc.defaultservice";if(c){f=1;d.stop()}if(!this.isEqualsDefaultMenu(this.aCookieList)){a="svc.userservice"}clickcr(e,a,b,"",d._event,f)}},_musicRadio:function(b){var c="http://player.music.naver.com/radio.nhn";
var a=decodeURIComponent(b.href);if(a.indexOf(c)>=0){window.open(c,"pop_alert","toolbar=no,scrollbars=no,width=710,height=382");b.href=c;b.onclick=null;return true}return false},_validCookie:function(){var b=$Cookie().get("NVSERV");
if(b==null||b.length<1){return}var e=false;b=b.split("@");var d=$("fmenu").innerHTML;for(var c=b.length-1;c>-1;--c){if(d.indexOf("mn_"+b[c])<0){b.splice(c,1);e=true}}if(e){$Cookie().set("NVSERV",b.join("@"),365*10,"naver.com")
}},_initCookieList:function(){var a=ServiceMenu;var b=$Cookie().get("NVSERV");if(b!==null&&b.length>0){a.aCookieList=b.split("@")}else{a.aCookieList=a.aDefaultList.concat()}a.aCacheList=a.aCookieList.concat()
},_getHTML:function(a){if($("svcmore").style.zIndex==10){$("svcmore").style.zIndex=13}var c=a.element;if(c.tagName=="SPAN"||c.tagName=="IMG"){c=c.parentNode}if(c.tagName=="A"&&c.id=="svcmore_h"){clickcr(a.currentElement,"svc.more","","",a._event,1)
}if(!this.bGetHTML){var b=$Ajax("/sub/svcmore.html",{onload:function(e){var d=ServiceMenu;if(!d.bGetHTML){d.bGetHTML=true}else{return}var f=e.text();$("svcmore").innerHTML=f;d.EventManager.init();d._initNotiRolling();
d._openMyMenuSetLayer(c.href);d.elList=$("svc_list").getElementsByTagName("input");d._initCookieList();d=null}});b.header("If-Modified-Since","Thu, 1 Jan 1970 00:00:00 GMT");b.request();b=null}else{ServiceMenu._openMyMenuSetLayer(c.href)
}a.stop()},_checkMoreButtonClass:function(a){if(!this.bGetHTML||(a==true&&!$Element("svcmore").visible())){return}if($("svcmore").className=="svcmore hide"){}else{this.Action.restoreCookieMenu()}},_openMyMenuSetLayer:function(b){this._checkMoreButtonClass();
CommonFn.closeAllHelpLayer();CommonFn.layer.toggle("svcmore");$Element("svcmore_h").toggleClass("close");if(navigator.userAgent.indexOf("SHW-M180S")!=-1){if($Element("svcmore").visible()){$("veta_top").getElementsByTagName("iframe")[0].style.display="none"
}else{$("veta_top").getElementsByTagName("iframe")[0].style.display="block"}}var a=$Element("svcmore").visible();if(this.notiRoll){if(a){this.notiRoll.scrollTo(0);this.notiRoll.resume()}else{this.notiRoll.pause()
}}LoginCheck.nvLoginCheck("svcmore",$Element("svcmore").visible()?1:0)},_initNotiRolling:function(){var a=$$("#svc_info ol li");if(a.length<2){return}this.notiRoll=new Rolling();this.notiRoll.touch("svc_info",{direction:1,size:(a.length-1)*33,moveSize:33,moveStep:0.1,moveInterval:30,effect:function(b){var b=Math.sin(b*(Math.PI/2));
return b*b*b*b},freeze:5000})},_clearCheckBox:function(){$ElementList($$("#svc_list .svc_radio span")).removeClass("radio-checked");$ElementList($$("#svc_list .svc_radio input")).attr("checked",false)},_initCheckBoxMenu:function(d){var e=(d)?this.aCookieList:this.aDefaultList;
var a=null;var h=this.isEqualsDefaultMenu(this.aCookieList);if(!d||!h){var k=$Element("svc_list").queryAll("._MM_seletableRadio");var g=k.length;for(var b=0;b<g;b++){var c=k[b].query("span");var j=k[b].query("input");
var f=j.attr("id");if($A(e).indexOf(f.split("_")[1])>=0){j.attr("checked",true);c.addClass("radio-checked")}else{j.attr("checked",false);c.removeClass("radio-checked")}}}a=e=null},EventManager:{init:function(){$Fn(this._onClickForClose,this).attach("close_svc_layer","click");
$Fn(this._onClickForMyMenuSet,this).attach("svc_set_mymenu","click");$Fn(this._onClickForMenuBtns,this).attach("svc_menu_btns","click");$Fn(this._onClickForCheckSelectItem,this).attach($$("._MM_menu li"),"click");
$Fn(this._onClickForStatics,this).attach($$("ul li a",$("svc_list")),"click");$Fn(this._onClickForStatics,this).attach($$("ul li a",$("svc_tools_lst")),"click");$Fn(this._onClickForViewAll,this).attach("svc_viewall","click");
$Fn(this._svcmoreKeyDown,this).attach("svcmore_h","keydown");$Fn(this._svcmoreHeadKeyDown,this).attach($$.getSingle("a",$("svcmore")),"keydown");$Fn(this._svcmoreCloseKeyDown,this).attach("close_svc_layer","keydown")
},_onClickForViewAll:function(a){clickcr(a.currentElement,"map.svcmore","","",a._event,1)},_onClickForStatics:function(b){var c=b.element;if(c.tagName=="IMG"||c.tagName=="STRONG"){c=c.parentNode}if(c.tagName=="A"){var a=ServiceMenu._musicRadio(c);
var d=null;if(a){d=1;b.stop()}clickcr(c,"map.naverservice",c.name,"",b._event,d)}},_onClickForCheckSelectItem:function(b){var c=b.element;var a=ServiceMenu.Action;if(c.tagName=="INPUT"){c=$$.getSingle(".radio-mark",c.parentNode)
}if(c.tagName=="SPAN"){if($Element(c).hasClass("radio-checked")){a.deleteItem($$.getSingle("input",c.parentNode).id.split("_")[1])}else{if(!a.addItem($Element(c).parent().query("input").$value().id.split("_")[1])){b.stop()
}}}c=a=null;ServiceMenu.Slot.refresh()},_onClickForMyMenuSet:function(a){clickcr(a.element,"map.edit","","",a._event,1);ServiceMenu.initForm();ServiceMenu.Action.openMyMenuEdit();var c=$$("#svc_nstory span");
for(var b in c){var d=$Element(c[b]);if(d!=null&&d.visible()){d.hide()}}},_onClickForMenuBtns:function(a){var e=a.element;if(e.tagName=="STRONG"){e=e.parentNode}if(e.tagName=="BUTTON"){if(e.className=="save"){clickcr(e,"edt.save","","",a._event,1);
ServiceMenu.Action.saveMyMenu();var d=$$.getSingle(".mn_coin");if(d){d.href="https://bill.naver.com/pay/index.nhn"}var f=$$.getSingle(".mn_bill");if(f){f.href="https://bill.naver.com/pay/index.nhn"}}else{if(e.className=="close"){clickcr(e,"edt.cancel","","",a._event,1);
ServiceMenu.Action.restoreCookieMenu();var c=$$("#svc_nstory span, #svc_tools_lst span");for(var b in c){var g=$Element(c[b]);if(g!=null&&!g.visible()){g.show("inline-block")}}}else{if(e.className=="return"){clickcr(e,"edt.reset","","",a._event,1);
ServiceMenu.Action.restoreDefalutMenu()}}}}},_onClickForClose:function(a){var b=$Element("svc_selmenu");if(b!=null&&b.visible()){clickcr(a.element,"edt.closebutton","","",a._event,1)}else{clickcr(a.element,"map.closebutton","","",a._event,1)
}a.stop();ServiceMenu.Action.closeMyMenuSet()},_svcmoreKeyDown:function(a){if(a.key().shift==false&&a.key().keyCode==9&&$Element("svcmore").visible()){$$.getSingle("a",$("svcmore")).focus();a.stop()}},_svcmoreHeadKeyDown:function(a){if(a.key().shift&&a.key().keyCode==9){$("svcmore_h").focus();
a.stop()}},_svcmoreCloseKeyDown:function(a){if(a.key().shift==false&&a.key().keyCode==9&&RealTimeRank){RealTimeRank.showPop();a.stop()}}},Action:{closeMyMenuSet:function(a){ServiceMenu._checkMoreButtonClass(a);
CommonFn.layer.close("svcmore");if($("veta_top")){$("veta_top").getElementsByTagName("iframe")[0].style.display="block"}$Element("svcmore_h").toggleClass("close");$("svcmore_h").focus();if(ServiceMenu.notiRoll){ServiceMenu.notiRoll.pause()
}LoginCheck.nvLoginCheck("RealTimeRank",0)},openMyMenuEdit:function(){$ElementList($$("._MM_meunList")).hide();$ElementList($$("._MM_editMenuList")).show();$Element($("svc_set_mymenu").parentNode).hide();
$Element("svc_menu_btns").show();if(ServiceMenu.isEqualsDefaultMenu(ServiceMenu.aCacheList)){var c=$("fmenu").getElementsByTagName("a");for(var b=c.length-1;b>-1;--b){var a=c[b].parentNode;a.parentNode.removeChild(a);
a=null}ServiceMenu.aCacheList=[]}ServiceMenu.Slot.show();var d=$Element("service_menu_guide");if(d){d.html(ServiceMenu.guideMsg.edit)}},restoreCookieMenu:function(){this._restoreMenu(true);$ElementList($$("._MM_meunList")).show();
$ElementList($$("._MM_editMenuList")).hide();$Element("svc_menu_btns").hide();$Element($("svc_set_mymenu").parentNode).show();var a=$Element("service_menu_guide");if(a){a.html(ServiceMenu.guideMsg.view)
}},changeImgDisable:function(e,d,a){var c=$$("a img",$(e));for(var b=c.length-1;b>-1;--b){c[b].src=c[b].src.replace(d,a)}c=null},disableHref:function(d){var a=$(d).getElementsByTagName("a");for(var c=a.length-1;
c>-1;--c){var b=a[c];b.link=b.href;b.removeAttribute("href")}},enableHref:function(d){var a=$(d).getElementsByTagName("a");for(var c=a.length-1;c>-1;--c){var b=a[c];if(b.link){b.href=b.link;b.removeAttribute("link")
}}},restoreDefalutMenu:function(){this._restoreMenu(false);ServiceMenu._clearCheckBox();ServiceMenu._initCheckBoxMenu(false)},areArraysEqual:function(d,c){var a=new Array();if((!d[0])||(!c[0])){return false
}if(d.length!=c.length){return false}for(var b=0;b<d.length;b++){key=(typeof d[b])+"~"+d[b];if(a[key]){a[key]++}else{a[key]=1}}for(var b=0;b<c.length;b++){key=(typeof c[b])+"~"+c[b];if(a[key]){if(a[key]==0){return false
}else{a[key]--}}else{return false}}return true},saveMyMenu:function(){var a=ServiceMenu;var c=365*10;var b=a.Action.areArraysEqual(a.aDefaultList,a.aCacheList);if(!b&&a.aCacheList.length>5){alert("자주 쓰는 메뉴는\n최대 5개까지만 선택 가능합니다.");
a=null;return false}if(a.aCacheList.length<1){alert("선택된 메뉴가 없습니다.초기 설정으로 돌아갑니다.");this.restoreDefalutMenu()}a.aCookieList=a.aCacheList.concat();if(a.isEqualsDefaultMenu(a.aCookieList)){$Cookie().remove("NVSERV","naver.com")
}else{$Cookie().set("NVSERV",a.aCookieList.join("@"),c,"naver.com")}this.closeMyMenuSet();a=null},_restoreMenu:function(h){var k=ServiceMenu;var d=(h)?k.aCookieList:k.aDefaultList;var f="<dd>"+k.serviceTemplate+"</dd>";
var e=[];e.push('<dt class="blind">자주 쓰는 메뉴</dt>');for(var g=0;g<d.length;++g){var b=d[g];var c=$("nsvc_"+b);if(!c){continue}var l=c.value.split("|");var a=l[0];var m=l[1];var j=l[2];e.push(f.replace(/#HREF/,a).replace(/#TITLE/g,j).replace(/#GDID/,m))
}$("fmenu").innerHTML=e.join("");k.aCacheList=d.concat();k=f=e=d=null},addItem:function(g){var j=ServiceMenu;var b=j.aCacheList.length;if(j.aCacheList.length>=5){alert("자주 쓰는 메뉴는\n최대 5개까지만 선택 가능합니다.");
j=null;return false}for(var f=0;f<b;f++){if(j.aCacheList[f]==g){return false}}$A($$("._MM_radio_"+g)).forEach(function(n){$$.getSingle(".radio-mark",n.parentNode).className="radio-mark radio-checked"});
var c=$("nsvc_"+g);if(!c){return false}var d=c.value.split("|");var a=d[0];var m=d[1];var h=d[2];var c=$("<dd>");var e=j.serviceTemplate;c.innerHTML=e.replace(/#GDID/g,m).replace(/#TITLE/g,h).replace(/#HREF/,a);
$("fmenu").appendChild(c);var l=$$.getSingle(".mn_coin");if(l){l.href="https://bill.naver.com/pay/index.nhn"}var k=$$.getSingle(".mn_bill");if(k){k.href="https://bill.naver.com/pay/index.nhn"}j.aCacheList.push(g);
j=null;return true},deleteItem:function(c){var b=ServiceMenu;$A($$("._MM_radio_"+c)).forEach(function(f){$$.getSingle(".radio-mark",f.parentNode).className="radio-mark"});var e=$("fmenu").getElementsByTagName("a");
for(var d=e.length-1;d>-1;--d){if(e[d].className=="mn_"+c){var a=e[d].parentNode;a.parentNode.removeChild(a);a=null;break}}for(var d=b.aCacheList.length-1;d>-1;--d){if(c==b.aCacheList[d]){b.aCacheList.splice(d,1)
}}b=e=null}},Slot:{html:'<dd><span class="slot"></span></dd>',show:function(){if(!$Element("svc_set_mymenu").visible()){return}var a=5-$$("#fmenu a").length;if(a<1){return}var c=$Element("fmenu");for(var b=0;
b<a;b++){var d=$(this.html);c.append(d)}},hide:function(){var a=$$(".slot ! dd",$("fmenu"));if(a.length>0){$ElementList(a).leave()}},refresh:function(){this.hide();this.show()}}};var DropDownLayer=$Class({$init:function(a,b,d,c){this.elHead=$(a);
this.elList=$(b);this.sTemplet=c;this.sTitle=null;this.nIndex=-1;this.bExpend=false;this.bScrollMove=false;this.setListData(d);$Fn(this._onClick,this).attach(this.elHead,"click");$Fn(this._onMouseDown,this).attach(this.elHead,"mousedown");
$Fn(this._onKeyDown,this).attach(this.elHead,"keydown");$Fn(this._onClickForSelect,this).attach(this.elList,"click");$Fn(this._onMouseMove,this).attach(this.elList,"mousemove");$Fn(this._onClickForCollapse,this).attach(document,"click")
},setListData:function(c){this.aList=c;this.nMaxIndex=c.length-1;var d="";for(var b=0,a=c.length;b<a;b++){d+=this.sTemplet.replace("#CATE",c[b])}this.elList.innerHTML=d;this.elItems=this.elList.getElementsByTagName("li");
this.setIndex(0);d=null},setIndex:function(a){if(a<0){a=this.nMaxIndex-1}var b=this.aList[a];this.elHead.innerHTML=b;this.nIndex=a;this.sTitle=b},getIndex:function(){return{index:this.nIndex,title:this.sTitle}
},getIndexFromTitle:function(b){for(var a=this.aList.length-1;a>-1;a--){if(this.aList[a]==b){return a}}return -1},expand:function(){this.bExpend=true;$Element(this.elList.parentNode).addClass("nctg_on");
$Element(this.elList).removeClass("hide");var a=this._findIndex(this.elHead.innerHTML);$Element(this.elItems[a]).addClass("on");this._checkLayerScroll(this.elItems[a],false)},collapse:function(){this.bExpend=false;
$Element(this.elList.parentNode).removeClass("nctg_on");$Element(this.elList).addClass("hide");this.bScrollMove=false;this._clearCssClass(this.elItems,"on")},select:function(a,e,d,b,c){this.fireEvent("select",{index:a,id:e,title:d,oEl:b,event:c})
},_toggle:function(){(this.bExpend)?this.collapse():this.expand()},_findIndex:function(b){for(var a=this.aList.length-1;a>-1;--a){if(this.aList[a].indexOf(b)>-1){return a}}return -1},_findOverIndex:function(){for(var a=this.elItems.length-1;
a>-1;--a){if(this.elItems[a].className.indexOf("on")>-1){$Element(this.elItems[a]).removeClass("on");return a}}return -1},_clearCssClass:function(b,c){if(b.length!==undefined&&b.length!==null&&b.length>0){for(var a=b.length-1;
a>-1;--a){$Element(b[a]).removeClass(c)}}else{$Element(b).removeClass(c)}},_checkLayerScroll:function(c,d){var a=$Element(this.elList).height();var e=c.offsetTop;var b=e+$Element(c).height()*2;this.bScrollMove=true;
if(d){if(e<this.elList.scrollTop){this.elList.scrollTop=e}}else{if(b>a){this.elList.scrollTop=b-a}}},_onClickForCollapse:function(a){this.collapse()},_onMouseMove:function(a){this.bScrollMove=false},_onKeyDown:function(a){if(a.key().enter){if(this.bExpend){var b=this._findOverIndex();
if(b>-1){a.element=$Element(this.elItems[b]).child()[0].$value();this._onClickForSelect(a)}else{this.collapse()}}else{a.stop();this._toggle()}}else{if(a.key().down||a.key().right){a.stop();if(this.bExpend){var b=this._findOverIndex();
b++;if(b>this.nMaxIndex){b=this.nMaxIndex}$Element(this.elItems[b]).addClass("on");this._checkLayerScroll(this.elItems[b],false)}else{this.nIndex++;if(this.nIndex>this.nMaxIndex){this.nIndex=this.nMaxIndex;
return}this.setIndex(this.nIndex);this.select(this.nIndex,this.elItems[this.nIndex].getElementsByTagName("a")[0].id,this.aList[this.nIndex],a.element,a._event)}}else{if(a.key().up||a.key().left){a.stop();
if(this.bExpend){var b=this._findOverIndex(this.elItems[b]);b--;if(b<0){b=0}$Element(this.elItems[b]).addClass("on");this._checkLayerScroll(this.elItems[b],true)}else{this.nIndex--;if(this.nIndex<0){this.nIndex=0;
return}this.setIndex(this.nIndex);this.select(this.nIndex,this.elItems[this.nIndex].getElementsByTagName("a")[0].id,this.aList[this.nIndex],a.element,a._event)}}}}},_onMouseDown:function(a){a.stop();this._clearCssClass(this.elItems,"on");
this.elHead.focus();this._toggle()},_onClick:function(a){a.stop()},_onClickForSelect:function(a){var b=a.element;if(b.tagName=="A"){a.stop()}else{if(b.tagName=="STRONG"||b.tagName=="EM"){a.stop();b=b.parentNode
}else{return}}var c=$Element(b).text().replace(/^\s+|\s+$/g,"");this.sTitle=c;this.elHead.innerHTML=this.sTitle;this.nIndex=this._findIndex(this.sTitle);this.collapse();this.select(this.nIndex,b.id,this.sTitle,a.element,a._event);
this.elHead.focus();c=b=null}}).extend(jindo.Component);var Controller=$Class({$init:function(m,b,d,e,l){var k=this.elList=$(m);this.elMyList=(b)?$(b):document.createElement("ul");this.sTemplate=d;this.oListData=e;
this.nCurItemIdx=0;$Fn(this._onClickList,this).attach(this.elMyList,"click");$Fn(this._onClickList,this).attach(this.elList,"click");$Fn(this._onClickList,this).attach(this.elMyList,"keydown");$Fn(this._onClickList,this).attach(this.elList,"keydown");
if(l){var c="";var j=k.getElementsByTagName("li");for(var f=0,g=j.length;f<g;f++){var a=j[f];var h='<li id="'+a.id+'">'+a.innerHTML+l+"</li>";c+=h}k.innerHTML=c;if(!$Agent().os().ipad){$Fn(this._onCtrMouseOver,this).attach(this.elMyList,"mouseover");
$Fn(this._onCtrMouseOut,this).attach(this.elMyList,"mouseout");$Fn(this._onCtrMouseOver,this).attach(this.elList,"mouseover");$Fn(this._onCtrMouseOut,this).attach(this.elList,"mouseout");if($Agent().navigator().ie){$Fn(this._onCtrMouseOver,this).attach(this.elMyList,"focusin");
$Fn(this._onCtrMouseOut,this).attach(this.elMyList,"focusout");$Fn(this._onCtrMouseOver,this).attach(this.elList,"focusin");$Fn(this._onCtrMouseOut,this).attach(this.elList,"focusout")}else{$Fn(this._onCtrMouseOver,this).attach(this.elMyList,"focus");
$Fn(this._onCtrMouseOut,this).attach(this.elMyList,"blur");$Fn(this._onCtrMouseOver,this).attach(this.elList,"focus");$Fn(this._onCtrMouseOut,this).attach(this.elList,"blur")}}}},setListData:function(a,b){this.oListData=a.aPressList;
this.oMyListData=a.aMyList;if(typeof b=="undefined"){b=999999}this.bindListHtml(b)},setMoreLink:function(a){this.moreLink=a},bindListHtml:function(a){var b=this.oListData;var j=this.oMyListData;if(!b){this.elList.innerHTML="";
JEagleEyeClient.sendError("리스트가 존재하지 않습니다.");return}if(this.sTemplate){var c="";var g="";for(var h=j.length,e=0;e<h;e++){var l=this.sTemplate.replace(/#MSG/g,"구독 해지").replace("#BTNCLS","del_my");for(var d=0,f=j[e].length;
d<f;d++){l=l.split("@"+d).join(j[e][d])}c+=l;if(e+1>=a){c+='<li><a class="more" href="'+this.moreLink+'">더보기</a></li>';break}}if(!c){c="<li></li>"}this.elMyList.innerHTML=c;for(var h=b.length,e=0;e<h;e++){var l=this.sTemplate.replace(/#MSG/g,"구독").replace("#BTNCLS","add_my");
for(var d=0,f=b[e].length;d<f;d++){l=l.split("@"+d).join(b[e][d])}g+=l}this.elList.innerHTML=g}},clearOnClass:function(){var b=this.elMyList.getElementsByTagName("li");var a=this.elList.getElementsByTagName("li");
for(var c=b.length-1;c>=0;c--){$Element(b[c]).removeClass("on")}for(var c=a.length-1;c>=0;c--){$Element(a[c]).removeClass("on")}},_onClickList:function(b){if(b.type=="keydown"&&!b.key().enter){return}var c=true;
var e=b.element;if(e.tagName=="IMG"||e.tagName=="STRONG"||e.tagName=="SPAN"){e=e.parentNode}if($Agent().os().ipad){var a=$$("ul li button",$("press_list"));for(i=a.length-1;i>=0;i--){$Element(a[i]).addClass("hide")
}var d=$Element(e.parentNode.childNodes[1]);if(d){d.removeClass("hide")}$Element(e).addClass("over")}if(e.tagName=="A"){c=this.selectItem(e,null,b._event)}else{if(e.tagName=="BUTTON"){this._addDelBtn(e,b)
}}if(c){b.stop()}},_onCtrMouseOver:function(a){var d=a.element;var b=d.tagName;if(b=="A"||b=="BUTTON"||b=="SPAN"){if(b=="SPAN"){d=d.parentNode}d=d.parentNode;if(b=="BUTTON"){$Element(d.childNodes[0]).addClass("over")
}var c=$Element(d.childNodes[1]);c.removeClass("hide");$Element(d).addClass("over")}},_onCtrMouseOut:function(a){var d=a.element;var b=d.tagName;if(b=="A"||b=="BUTTON"||b=="SPAN"){if(b=="SPAN"){d=d.parentNode
}d=d.parentNode;$Element(d.childNodes[0]).removeClass("over");var c=$Element(d.childNodes[1]);c.addClass("hide");$Element(d).removeClass("over")}},_addDelBtn:function(a,b){var c;if(a.className.indexOf("add_my")>=0){c=true
}else{c=false}this.fireEvent("adddel",{el:a,bAdd:c,event:b})},selectItem:function(a,c,b){var d=a;if(d.tagName.toLowerCase()=="li"){d=a.getElementsByTagName("a")[0]}if(d&&d.className=="more"){this.fireEvent("more",{el:d,event:b});
return false}if(a.tagName=="A"){a=a.parentNode}this.clearOnClass();this.nCurItemIdx=this.getCurrentItemIdxFromElement(a);$Element(a).addClass("on");this.fireEvent("select",{el:a,action:c,event:b});return true
},selectItemIdx:function(a){this.nCurItemIdx=a;var b=this.getCurrentItem();this.selectItem(b)},selectItemIdx:function(a,c){this.nCurItemIdx=a;var b=this.getCurrentItem();this.selectItem(b,c)},prevItem:function(c){if(!c){c="default"
}var g=this.elMyList;var d=this.elList;var b=[];if(this.isVisible(g)){b=g.getElementsByTagName("li")}var h=[];if(this.isVisible(d)){h=d.getElementsByTagName("li")}this.nCurItemIdx--;if(this.nCurItemIdx<0){if(c=="my"){this.nCurItemIdx=b.length-1
}else{this.nCurItemIdx=b.length+h.length-1}}else{if(c=="normal"&&this.nCurItemIdx-b.length<0){this.nCurItemIdx=b.length+h.length-1}}var a=this.getCurrentItem();var e=a.childNodes[0].className;var f=a.className;
if(e=="more"||f.indexOf("mc")>=0){this.prevItem(c);return}this.selectItem(a,true)},nextItem:function(j){if(!j){j="default"}var e=this.elMyList;var g=this.elList;var k=[];var b=[];if(this.isVisible(e)){k=e.getElementsByTagName("li")
}if(this.isVisible(g)){b=g.getElementsByTagName("li")}if(j=="my"){b=[]}this.nCurItemIdx++;if(this.nCurItemIdx>=k.length+b.length){if(j=="normal"){this.nCurItemIdx=k.length}else{this.nCurItemIdx=0}}var c=this.getCurrentItem();
var h=c.childNodes[0].className;var f=c.className;var a=0;for(var d=0;d<k.length;d++){if(k[d].className.indexOf("mc")>=0){a++}}if(h=="more"||f.indexOf("mc")>=0){if(j=="my"&&k.length==a){j=""}this.nextItem(j);
return}this.selectItem(c,true)},moveItem:function(a,b){if(a=="pre"){this.prevItem(b)}else{if(a=="next"){this.nextItem(b)}}},getCurrentItem:function(){var c=this.elMyList;var b=this.elList;var a=[];var d=[];
if(this.isVisible(c)){a=c.getElementsByTagName("li")}if(this.isVisible(b)){d=b.getElementsByTagName("li")}if(a.length==0||this.nCurItemIdx>a.length-1){return d[this.nCurItemIdx-a.length]}else{return a[this.nCurItemIdx]
}},getCurrentItemIdxFromElement:function(f){var g=this.elMyList;var d=this.elList;var b=[];var h=[];if(this.isVisible(g)){b=g.getElementsByTagName("li")}if(this.isVisible(d)){h=d.getElementsByTagName("li")
}var e=0;for(var a=b.length;e<a;e++){if(b[e]==f){return e}}for(var c=0,a=h.length;c<a;c++,e++){if(h[c]==f){return e}}return 0},getItemCount:function(){var c=this.elMyList;var b=this.elList;var a=[];var d=[];
if(this.isVisible(c)){a=c.getElementsByTagName("li")}if(this.isVisible(b)){d=b.getElementsByTagName("li")}return a.length+d.length},getItemCountByList:function(b){var c=this.elMyList;var a=this.elList;
var d=[];if(b=="mylist"){if(this.isVisible(c)){d=c.getElementsByTagName("li")}}else{if(b=="list"){d=a.getElementsByTagName("li")}}return d.length},getCurrentItemIdx:function(){return this.nCurItemIdx},getItemIdx:function(c){var a=this.elMyList.getElementsByTagName("li");
for(var b=a.length-1;b>=0;b--){if(a[b].id==c){return b}}var d=this.elList.getElementsByTagName("li");for(var b=d.length-1;b>=0;b--){if(d[b].id==c){return b+a.length}}return 0},getItemIdxByList:function(d,e){var a=this.elMyList.getElementsByTagName("li");
var f=this.elList.getElementsByTagName("li");if(d=="mylist"){for(var c=a.length-1;c>=0;c--){if(a[c].id==e){return c}}}else{if(d=="list"){for(var c=f.length-1;c>=0;c--){if(f[c].id==e){var b=c+a.length;return(a.length==1&&a[0].innerHTML=="")?b-1:b
}}}}return 0},isVisible:function(a){var b=a.getElementsByTagName("li");if(b[0]&&b[0].id){return true}else{return false}}}).extend(jindo.Component);var NewsStand={init:function(c,b,a){this.mode=this.Press.mode;
this.sortMode="thumb";this.bMyNewsStand=false;this.bMyNewsCast=false;this.pressInfo={};this.aMyPressList=[];this.elArticle=$Element($$.getSingle("#news_cast2 .cast2_article"));this.allPressElement=$ElementList("#news_cast2 [data-mode=press]");
this.allMyElement=$ElementList("#news_cast2 [data-mode=my]");this.notiElement=$Element($$.getSingle("#news_cast2 .mm_noti"));this.sortTypeElement=$ElementList("#news_cast2 .newss_sort2 a");this.aMenuTab=$$("#news_cast2 .newss_sort a");
if(c){var d=c.split("@");this.aMyPressList=d[4].split("|");this.bMyNewsStand=true;this.bMyNewsCast=true;this.sortMode="list"}else{if(b&&!isLogin){var d=b.split("@");this.aMyPressList=d[4].split("|");this.bMyNewsStand=true;
this.sortMode="list"}}$Fn(this._onclickMenu,this).attach(this.aMenuTab,"click");$Fn(this.hideDropdownList,this).attach(document,"click");$Fn(this._onclickSortType,this).attach(this.sortTypeElement.$value(),"click");
if(this.notiElement){$Fn(this._onclickNoti,this).attach(this.notiElement,"click")}this.setPressInfo();this.Press.init();this.My.init(a);this.DataManager.init()},initFlicking:function(){var a=$Element($$.getSingle("#news_contents .flick-container"));
a.append('<div class="flick-panel" style="position:absolute;top:0;left:0;width:100%;height:100%"></div>');a.prepend('<div class="flick-panel" style="position:absolute;top:0;left:0;width:100%;height:100%"></div>');
this.oFlicking=new jindo.m.Flicking("news_contents",{nDuration:300,nTotalContents:3,nDefaultIndex:1,bUseDiagonalTouch:true,sClassPrefix:"flick-",sContentClass:"panel",bUseCircular:true,bAutoSize:true}).attach({afterFlicking:function(f){var d=NewsStand.Press;
var e=NewsStand.My;var b=NewsStand.getSortMode();switch(b){case"thumb":if(f.bLeft){d.nPage=d.nPage==d.nMaxPage?1:(d.nPage+1)}else{d.nPage=d.nPage==1?d.nMaxPage:(d.nPage-1)}d._drawMovePage();break;case"list":if(f.bLeft){e.nPage=(e.nPage==e.nMaxPage)?1:(e.nPage+1)
}else{e.nPage=(e.nPage==1)?e.nMaxPage:(e.nPage-1)}e.setPageNav();var c=(e.nPage-1)*2;e.selectedPressId=e.aMyHeadlinePressList[c];break}(f.bLeft)?NewsStand.setNextPanel():NewsStand.setPrevPanel();NewsStand.UI.showFlickingNoti()
}});this.setSidePanel()},setSidePanel:function(){if(this.oFlicking){this.setNextPanel();this.setPrevPanel()}},setNextPanel:function(){var g="";switch(NewsStand.sortMode){case"thumb":var b=(this.Press.nPage==this.Press.nMaxPage)?1:(this.Press.nPage+1);
g=this.Press.getPressHTML(b);this.oFlicking.getNextElement().html(g);break;case"list":var f=NewsStand.getHeadlinePressList();var b=(this.My.nPage==this.My.nMaxPage)?1:(this.My.nPage+1);var d=(b-1)*2;var c=Math.min(b*2,f.length);
var e=[];for(var a=d;a<c;a++){e.push(f[a])}this.My._drawPressList(e,function(h){var j=NewsStand.oFlicking.getNextElement();NewsStand.Event.detach(j);j.html(h);NewsStand.Event.attach(j);NewsStand.UI.postLoad();
if(NewsStand.mode==NewsStand.Press.mode){NewsStand.elArticle.removeClass("my_media")}});break}},setPrevPanel:function(){var g="";switch(NewsStand.sortMode){case"thumb":var b=(this.Press.nPage==1)?this.Press.nMaxPage:(this.Press.nPage-1);
g=this.Press.getPressHTML(b);this.oFlicking.getPrevElement().html(g);break;case"list":var f=NewsStand.getHeadlinePressList();var b=(this.My.nPage==1)?this.My.nMaxPage:(this.My.nPage-1);var d=(b-1)*2;var c=Math.min(b*2,f.length);
var e=[];for(var a=d;a<c;a++){e.push(f[a])}this.My._drawPressList(e,function(h){var j=NewsStand.oFlicking.getPrevElement();NewsStand.Event.detach(j);j.html(h);NewsStand.Event.attach(j);NewsStand.UI.postLoad();
if(NewsStand.mode==NewsStand.Press.mode){NewsStand.elArticle.removeClass("my_media")}});break}},getCurPanel:function(){return this.oFlicking?this.oFlicking.getElement():$Element($$.getSingle("#news_cast2 .flick-panel"))
},_onclickNoti:function(a){var b=a.currentElement;clickcr(b,"nsd.noti","","",a._event)},_onclickSortType:function(a){a.stop();var d=a.currentElement;var b=$Element(d);if(b.hasClass("on")){return}var c=d.className;
var f=c.replace("sort_","").replace(" ","");var e="";this.My.nPage=1;this.Press.nPage=1;switch(this.getMode()){case this.Press.mode:this.Press.initUI(f);e=(f=="thumb")?"nsd_all.pressview":"nsd_all.articleview";
break;case this.My.mode:this.My.initUI(f);e=(f=="thumb")?"nsd_myn.thumbnail":"nsd_myn.titlelist";break}clickcr(d,e,"","",a._event)},_onclickMenu:function(b){var d=b.element;var a=this.getCurPanel();a.empty();
$ElementList(this.aMenuTab).removeClass("on");if(this.aMenuTab[this.Press.mode]==d){this.mode=this.Press.mode;$Element(this.aMenuTab[this.mode]).addClass("on");this.Press.nPage=1;this.Press.initCategory();
this.Press.initUI("thumb")}else{if(this.aMenuTab[this.My.mode]==d){this.mode=this.My.mode;$Element(this.aMenuTab[this.mode]).addClass("on");this.My.nPage=1;this.My.initUI("list")}}var c=(this.bMyNewsStand)?this.My.noti:this.Press.noti;
if(c.text&&this.notiElement){this.notiElement.attr("href",c.url);this.notiElement.html(c.text)}if(!(this.aMenuTab[this.My.mode]==d&&this.My.aMyHeadlinePressList&&this.My.aMyHeadlinePressList.length==0)){NewsStand.UI.showFlickingNoti()
}b.stop()},hideDropdownList:function(a){if(a&&a.element){var b=$$.getSingle("#scroll9 .scrollbar-v");if($Element(a.element).isChildOf(b)){return}}$ElementList("#news_cast2 .nctg").removeClass("nctg_on");
$ElementList("#news_cast2 .cpress_lst").addClass("hide");this.My.welCateListDiv.hide();this.My.welCateDiv.removeClass("news_rectype_open")},setPressInfo:function(){var a=this;if(!this.pressList||this.pressList.length==0){var b="/include/newsstand/press_info.json";
var c=$Ajax(b,{timeout:3,method:"get",onload:function(f){a.pressInfo=f.json();for(var g in a.pressInfo){var e=a.pressInfo[g];for(var d=0;d<e.length;d++){e[d].mainCate=g}}a.Press.reloadPressList();a.Press.initHeadlineList();
if(a.bMyNewsStand){a.My.initCategory()}if(global.isSupportedFlicking){a.initFlicking()}},onerror:function(){JEagleEyeClient.sendError("[NEWSSTAND] 언론사 정보 ajax 실패 : "+b)},ontimeout:function(){JEagleEyeClient.sendError("[NEWSSTAND] 언론사 정보 로딩 timeout: "+b)
}});c.header("If-Modified-Since","Thu, 1 Jan 1970 00:00:00 GMT");c.request()}},getPressInfo:function(d){var c=this;var b=c.pressInfo;for(var g in b){var f=b[g];for(var e=0,a=f.length;e<a;e++){if(f[e].pid==d){return f[e]
}}}return null},_array_contains:function(b,d){for(var c=0,a=b.length;c<a;c++){if(b[c]==d){return true}}return false},_array_remove:function(b,c){var b=$A(b);var a=b.indexOf(c);if(a>=0){b.splice(a,1)}return b.$value()
},getHeadlinePressList:function(a,b){b=b||NewsStand.getMode();a=a||NewsStand.getSortMode();if(b==NewsStand.Press.mode){return NewsStand.Press.headlineList}if(a=="thumb"){return NewsStand.aMyPressList}return NewsStand.My.aMyHeadlinePressList
},getTotalPressList:function(){if(NewsStand.getMode()==NewsStand.Press.mode){return NewsStand.Press.pressList}return NewsStand.aMyPressList},getMode:function(){var a=$Element($$.getSingle("#news_cast2 .newss_sort a.on")).attr("id");
return(a=="press")?this.Press.mode:this.My.mode},getSortMode:function(){return $Element($$.getSingle("#news_cast2 .newss_sort2 a.on")).attr("id")},getAreaPrefix:function(){var b="";var c=NewsStand.getMode();
var a=NewsStand.getSortMode();if(c==NewsStand.Press.mode){b=(a=="thumb")?"nsd_all*p":"nsd_all*a"}else{if(c==NewsStand.My.mode){b=(a=="thumb")?"nsd_myn*p":"nsd_myn*a"}}return b},Press:{mode:0,noti:{text:"[알림] 언론사별 주요뉴스를 메인에서 바로 볼 수 있어요!",url:"http://news.naver.com/main/ombudsman/readView.nhn?notiId=320&notiDel=N"},init:function(){this.nPage=1;
this.nMaxPage=1;this.elPageSpan=$$.getSingle("#news_cast2 .nss_pg[data-mode=press] > span");this.aMoveBtn=$$("#news_cast2 .nss_pg[data-mode=press] a");this.template='<h3 class="blind" style="">전체언론사</h3><div class="newss_lst"><div class="newss"><ul>{for idx:press in pressList}{if press.pid != "add"}<li id="NS_{=press.pid}"{if press.amigo == "Y" || press.viewer == "N"} class="disabled""><span class="newssa">{else}><a href="http://'+newsStandUrl+'/?list={=press.mainCate}&pcode={=press.pid}" target="_blank" class="newssa">{/if}<img src="{=press.img}" width="81" height="73" alt="{=press.name}" {if press.amigo == "Y"} title="악성코드 발생으로 기사 노출이\n제외된 상태입니다."{elseif press.viewer == "N"} title="해당 언론사에서 서비스를\n준비중입니다."{/if} />{if press.amigo == "Y" || press.viewer == "N"}</span>{else}</a>{/if}{if press.today == "Y"}<a href="http://'+newspaperUrl+'/viewer/index.nhn?pressCode=0{=press.pid}" class="today" title="오늘의 신문 보기" target="_blank">오늘의 신문 보기</a>{/if}</li>{else}<li class="add"><a href="http://'+newsStandUrl+'/config.html" class="newssa" target="_blank">언론사 추가</a></li>{/if}\n{/for}</ul></div></div>';
this.cateId="";this.pressList=[];this.amigoPressList=[];this.noViewerPressList=[];this.headlineList=[];$Element("news_cast2").delegate("click",".newss_lst .newss a.newssa, .newss_lst .newss a.today",this._onclickPressLogo);
this.welCateDiv=$Element($$.getSingle("#news_cast2 .nctg[data-mode=press]"));this.welCateUl=$Element($$.getSingle("#news_cast2 .nctg[data-mode=press] .cpress_lst"));$Fn(this._onclickMove,this).attach(this.aMoveBtn,"click");
$Fn(this._onclickCateBox,this).attach($$.getSingle("#news_cast2 .nctg[data-mode=press] .btn_nctg"),"click");$Fn(this._onclickCateList,this).attach($$("#news_cast2 .nctg[data-mode=press] .cpress_lst a"),"click")
},initUI:function(a){var b=NewsStand;var c=b.Press;var d=b.My;b.sortMode=a;if(a=="thumb"){b.mode=c.mode;b.allPressElement.show();b.allMyElement.hide();b.elArticle.removeClass("my_media");c.setPageNav();
c.reset()}else{if(a=="list"){b.mode=d.mode;b.allPressElement.hide();b.allMyElement.show();$Element($$.getSingle("#news_cast2 .cpg.nss_pg[data-mode=my] span")).show();$Element($$.getSingle("#news_cast2 .news_rectype")).hide();
$Element($$.getSingle("#news_cast2 .nctg")).show();c.initHeadlineList();d._drawPressPage(d.nPage,"list")}}NewsStand.setSidePanel();NewsStand.UI.initSortUI(a)},initHeadlineList:function(){var d=NewsStand.My;
var c=NewsStand.Press;var e=NewsStand.Press.pressList;c.headlineList=[];for(var b=0;b<e.length;b++){var a=e[b].pid;if(d.isHeadlinePress(a)&&!d.isHeadlineAmigo(a)){c.headlineList.push(a)}}},initCategory:function(){var a=$ElementList("#news_cast2 .cast_type2 .nctg[data-mode=press] .cpress_lst li");
a.removeClass("on");var b=a.$value()[0];b.addClass("on");$$.getSingle("#news_cast2 .nctg[data-mode=press] .btn_nctg").innerHTML=b.text();this.reloadPressList()},reset:function(){NewsStand.My.pauseTimer();
this._drawMovePage();this._drawPressList()},_onclickCateBox:function(a){a.stop();var b=a.currentElement;if(this.welCateUl.visible()){this.welCateDiv.removeClass("nctg_on");this.welCateUl.addClass("hide")
}else{this.welCateDiv.addClass("nctg_on");this.welCateUl.removeClass("hide")}clickcr(b,"nsd_all.drop","","",a._event)},_onclickCateList:function(a){a.stop();var c=a.currentElement;$$.getSingle("#news_cast2 .nctg[data-mode=press] .btn_nctg").innerHTML=c.innerHTML;
NewsStand.hideDropdownList();$ElementList("#news_cast2 .cast_type2 .nctg[data-mode=press] .cpress_lst li").removeClass("on");$Element(c.parentNode).addClass("on");var d=c.href.split("#")[1];var b="nsd_all.d";
switch(d){case"ct1":b+="main";break;case"ct2":b+="aei";break;case"ct3":b+="tvcom";break;case"ct4":b+="it";break;case"ct5":b+="eng";break;case"ct6":b+="sporent";break;case"ct7":b+="magtec";break;case"ct8":b+="loc";
break}this.cateId=d;NewsStand.Press.nPage=1;NewsStand.My.nPage=1;this.reloadPressList(d);clickcr(c,b,"","",a._event);$$.getSingle("#news_cast2 .nctg[data-mode=press] a.btn_nctg").focus();NewsStand.Press.initHeadlineList();
if(NewsStand.getMode()==NewsStand.Press.mode&&NewsStand.getSortMode()=="list"){NewsStand.Press.initUI("list")}else{this._drawPressList()}NewsStand.UI.showFlickingNoti()},_onclickPressLogo:function(a){var e=a.element;
var c=e.className;var b=e.parentNode.id.replace("NS_","");var d=NewsStand.getAreaPrefix();if(c=="today"){clickcr(e,d+".newspaper","","",a._event)}else{if(b){clickcr(e,d+".logo",b,this.nPage,a._event)}}},_onclickMove:function(a){var d=$Element(a.element);
var b="";var c=NewsStand.getAreaPrefix();if(d.hasClass("pre")){this.nPage--;if(this.nPage<1){this.nPage=this.nMaxPage}b=c+".prev"}else{if(d.hasClass("next")){this.nPage++;if(this.nPage>this.nMaxPage){this.nPage=1
}b=c+".next"}}this._drawMovePage();this._drawPressList();clickcr(d,b,"","",a._event);a.stop();NewsStand.UI.showFlickingNoti()},_drawMovePage:function(){var a=NewsStand.getTotalPressList();if(a.length<=12){return
}this.elPageSpan.innerHTML="<strong>"+this.nPage+"</strong>/"+this.nMaxPage},_drawPressList:function(){var a=this.getPressHTML(this.nPage);var b=NewsStand.getCurPanel();b.html(a);NewsStand.setSidePanel()
},getPressHTML:function(e){var h=NewsStand.getTotalPressList();var f=(e-1)*12;var d=Math.min(e*12,h.length);var g=[];for(var b=f;b<d;b++){if(NewsStand.getMode()==NewsStand.Press.mode){g.push(h[b])}else{if(b<h.length){var a=NewsStand.getPressInfo(h[b]);
if(a){g.push(a)}}}}if(g.length>12){g=g.slice(0,12)}var c={pressList:g};return $Template(this.template).process(c)},setPageNav:function(a){if(a){this.nPage=a}var b=NewsStand.getTotalPressList();this.nMaxPage=Math.ceil(b.length/12);
if(this.nMaxPage>1){this.elPageSpan.innerHTML="<strong>"+this.nPage+"</strong>/"+this.nMaxPage;$ElementList(this.aMoveBtn).css("display","");if(NewsStand.oFlicking){NewsStand.oFlicking.activate()}}else{this.elPageSpan.innerHTML="";
$ElementList(this.aMoveBtn).css("display","none");if(NewsStand.oFlicking){NewsStand.oFlicking.deactivate()}}},reloadPressList:function(a){if(a){this.pressList=this.getCatePressList(a)}else{this.pressList=this.getPressList()
}this.setPageNav()},getCatePressList:function(a){var b=NewsStand.pressInfo[a];return this._filterPressList(b)},getPressList:function(){var j=[];var a=$$("#news_cast2 .newss li");var b=[];for(var d=0,g=a.length;
d<g;d++){var f=a[d].id.replace("NS_","");b.push(f);j.push(NewsStand.getPressInfo(f))}var h=this._filterPressList(NewsStand.pressInfo.ct1);var c=[];for(var d=0,g=h.length;d<g;d++){var e=h[d];if(!NewsStand._array_contains(b,e.pid)){c.push(e)
}}c=$A(c).shuffle().$value();j=j.concat(c);return j},_filterPressList:function(e){var d=[];for(var b=0,a=e.length;b<a;b++){var c=e[b];if(typeof c==="string"){c=NewsStand.getPressInfo(c)}if(c.amigo=="N"&&c.viewer=="Y"){d.push(c)
}else{if(c.amigo=="Y"){this.amigoPressList.push(c)}else{if(c.viewer=="N"){this.noViewerPressList.push(c)}}}}return d}},My:{mode:1,noti:{text:"[알림] 언론사별 주요뉴스를 메인에서 바로 볼 수 있어요!",url:"http://news.naver.com/main/ombudsman/readView.nhn?notiId=320&notiDel=N"},init:function(a){this.baseHTML="<h3 class='blind'>MY뉴스</h3><div id='headline'></div>";
this.unsubscribeHTML="<h3 class='blind'>MY뉴스</h3><p class='mm_mes1'>언론사 구독 설정에서 <strong>MY언론사</strong>를 추가하면<br>설정한 언론사의 기사들을 네이버 홈에서 바로 보실 수 있습니다.</p><p class='mm_bt'><a href='http://"+window.newsStandUrl+"/config.html' class='add_media' target='_blank' onclick='clickcr(this,\"nsd_all.myadd\",\"\",\"\",event);'>언론사 추가</a></p>",this.serviceReadyHTML="<h3 class='blind'>MY뉴스</h3><p class='mm_mes1'>MY뉴스로 설정하신 언론사들이 모두 <strong>서비스 준비중</strong>입니다.<br>조금만 기다려 주세요.</p><p class='mm_bt'><a href='http://"+window.newsStandUrl+"/config.html' class='add_media' target='_blank' onclick='clickcr(this,\"nsd_myn*a.add\",\"\",\"\",event);'>언론사 추가</a></p>";
this.nPage=1;this.nMaxPage=1;this.selectedPressId=0;this.aMoveBtn=$$("#news_cast2 .nss_pg[data-mode=my] a");this.aMyPressList=[];this.aMyHeadlinePressList=[];this.headlineList=a;this.elPageSpan=$Element($$.getSingle("#news_cast2 .cpg[data-mode=my] > span"));
this.elPageDiv=$Element($$.getSingle("#news_cast2 .cpg[data-mode=my]"));this.welCateDiv=$Element($$.getSingle("#news_cast2 .news_rectype"));this.welCateListDiv=$Element($$.getSingle("#news_cast2 .ly_rectype"));
this.welCateUl=$Element($$.getSingle("#news_cast2 #scroll9 .rectype_lst"));$Element("news_cast2").delegate("click",".cast2_media .cast2_media_top a[target='_blank']",this._onclickPressLogo);$Fn(this._onclickCateBox,this).attach($$.getSingle("#news_cast2 .news_rectype[data-mode=my] h3 a"),"click");
$Fn(this._onclickMove,this).attach(this.aMoveBtn,"click");this.fnPause=$Fn(this._onPause,this);this.fnResume=$Fn(this._onResume,this);this.fnDeletePress=$Fn(this._onclickPressUnsubscribe,this);this.fnAddPress=$Fn(this._onclickPressSubscribe,this);
this.fnClickTitle=$Fn(this._onclickNewsTitle,this);NewsStand.Event.attach();if($Agent().navigator().ie){$Fn(this._onInactivate,this).attach(document,"focusout");$Fn(this._onActivate,this).attach(document,"focusin")
}else{$Fn(this._onInactivate,this).attach(window,"blur");$Fn(this._onActivate,this).attach(window,"focus")}this.elScroll=$("scroll9");this.oScrollBox=new jindo.ScrollBox(this.elScroll,{bAdjustThumbSize:true,sOverflowX:"hidden",sOverflowY:"scroll",nMinThumbSize:50});
this.oTimer=new jindo.Timer();this.reset();this.initHeadlinePress();if(this.isMyHeadlineList()){this.setPageNav()}else{this.elPageDiv.hide()}},initUI:function(b){var c=NewsStand;var d=c.Press;var e=c.My;
var a=c.getCurPanel();c.sortMode=b;if(b=="thumb"){c.mode=d.mode;c.allPressElement.show();c.allMyElement.hide();$Element($$.getSingle("#news_cast2 .nctg")).hide();$Element($$.getSingle("#news_cast2 .news_rectype")).show();
d.setPageNav();if(!c.bMyNewsStand||!e.isMyHeadlineList()){if(!c.bMyNewsStand){a.html(e.unsubscribeHTML)}else{if(!e.isMyHeadlineList()){a.html(e.serviceReadyHTML)}}e.elPageSpan.hide();if(c.oFlicking){c.oFlicking.getNextElement().html("");
c.oFlicking.getPrevElement().html("");c.oFlicking.deactivate()}$ElementList(e.aMoveBtn).css("display","none")}else{d.reset();c.elArticle.removeClass("my_media")}}else{if(b=="list"){c.mode=e.mode;c.allPressElement.hide();
c.allMyElement.show();c.elArticle.addClass("my_media");if(!c.bMyNewsStand||!e.isMyHeadlineList()){if(!c.bMyNewsStand){a.html(e.unsubscribeHTML)}else{if(!e.isMyHeadlineList()){a.html(e.serviceReadyHTML)
}}e.elPageSpan.hide();if(c.oFlicking){c.oFlicking.getNextElement().html("");c.oFlicking.getPrevElement().html("");c.oFlicking.deactivate()}$ElementList(e.aMoveBtn).css("display","none")}else{e._drawPressPage(e.nPage,b)
}this.selectedPressId=0}}NewsStand.setSidePanel();NewsStand.UI.initSortUI(b)},reset:function(){this.resetTimer();this.myNewsDiv=$Element($$.getSingle("#news_cast2 div.cast2_article.my_media"));if(this.myNewsDiv){this.setEableMouseEvent(true)
}},resetTimer:function(){if(this.oTimer&&NewsStand.mode==NewsStand.My.mode){this.oTimer.pause();this.oTimer.start(this.rollingPage,10000)}},pauseTimer:function(){if(this.oTimer&&this.oTimer.isRunning()){this.oTimer.pause()
}},setEableMouseEvent:function(a){if(this.myNewsDiv){if(a){this.fnPause.attach(this.myNewsDiv,"mouseenter");this.fnResume.attach(this.myNewsDiv,"mouseleave")}else{this.fnPause.detach(this.myNewsDiv,"mouseenter");
this.fnResume.detach(this.myNewsDiv,"mouseleave")}}},rollingPage:function(){if(global.isSupportedFlicking){return false}var a=NewsStand.My;if(a.nMaxPage<=1){return false}a.nPage++;if(a.nPage>a.nMaxPage){a.nPage=1
}a._drawPressPage(a.nPage);return true},isHeadlinePress:function(b){var a=this.headlineList;for(var c=0;c<a.pid.length;c++){if(b==a.pid[c]){return true}}return false},isHeadlineAmigo:function(b){var a=this.headlineList;
for(var c=0;c<a.amigo.length;c++){if(b==a.amigo[c]){return true}}return false},isMyHeadlineList:function(){return(this.aMyHeadlinePressList.length>0)},initHeadlinePress:function(){var c=NewsStand.aMyPressList;
for(var b=0;b<c.length;b++){var a=c[b];if(this.isHeadlinePress(a)&&!this.isHeadlineAmigo(a)){this.aMyHeadlinePressList.push(a)}}if(this.isMyHeadlineList()){NewsStand.mode=this.mode}},initCategory:function(){var f="";
var b=NewsStand.aMyPressList;if(b.length==0){this.welCateUl.html("");return}if(this.isMyHeadlineList()&&this.selectedPressId==0){var c=$Element($$.getSingle(".cast2_media","news_cast2"));if(c){this.selectedPressId=c.attr("id")
}}for(var d=0;d<b.length;d++){var g=b[d];var e=NewsStand.getPressInfo(g);if(e){var a="";var h="";var j="";if(this.isHeadlineAmigo(e.pid)){h="악성코드 발생으로 기사 노출이 제외된 상태입니다.";a="bad"}else{if(!this.isHeadlinePress(e.pid)){h="해당 언론사에서 서비스를 준비 중입니다";
a="bad"}else{if(this.selectedPressId==e.pid){a="on"}}}f+='<li id="NS_'+e.pid+'"';if(a){f+=' class="'+a+'"';if(a=="bad"){f+=' onclick="return false"'}}f+='><a href="#" title="'+h+'">'+e.name+"</a></li>"
}}this.welCateUl.html(f);$Fn(this._onclickCateList,this).attach($$("#news_cast2 #scroll9 .rectype_lst a"),"click")},_onclickPressLogo:function(a){var d=$Element(a.element);var b=d.parent().parent().parent().attr("id");
var c=NewsStand.getAreaPrefix();if(d.hasClass("today")){clickcr(d,c+".newspaper","","",a._event)}else{if(b){clickcr(d,c+".logo",b,this.nPage,a._event)}}},_onclickMove:function(a){var c=$Element(a.element);
var d="";if(c.hasClass("pre")){this.nPage--;if(this.nPage<1){this.nPage=this.nMaxPage}d="prev"}else{if(c.hasClass("next")){this.nPage++;if(this.nPage>this.nMaxPage){this.nPage=1}d="next"}}if(this.oTimer&&this.oTimer.isRunning()){this.resetTimer()
}this._drawPressPage(this.nPage);var b=NewsStand.getAreaPrefix();clickcr(c,b+"."+d,"","",a._event);a.stop();NewsStand.UI.showFlickingNoti()},_onclickCateBox:function(a){var b=a.currentElement;if(this.welCateUl.child().length==0){return
}if(this.welCateListDiv.visible()){this.welCateListDiv.hide();this.welCateDiv.removeClass("news_rectype_open")}else{this.initCategory();this.welCateListDiv.show();this.welCateDiv.addClass("news_rectype_open");
this.oScrollBox.reset();this._adjustScrollPos()}clickcr(b,"nsd_myn.sub","","",a._event);a.stop()},_onclickCateList:function(h){var f=h.currentElement;var g=$Element(f.parentNode);if(g.hasClass("bad")){return
}var e=f.parentNode.id.replace("NS_","");this.selectedPressId=e;var a=NewsStand.getSortMode();if(NewsStand.getMode()==this.mode&&a=="thumb"){var c=1;var j=NewsStand.getHeadlinePressList();for(var d=0;d<j.length;
d++){if(j[d]==e){var c=Math.ceil((d+1)/12);break}}NewsStand.Press.setPageNav(c);NewsStand.My.initUI("thumb")}else{var b=this.getMyHeadlinePage(e);NewsStand.My.initUI("list");this._drawPressList(b.drawList);
this.setPageNav(b.page)}NewsStand.setSidePanel();NewsStand.hideDropdownList();NewsStand.UI.showFlickingNoti();clickcr(f,"nsd_myn.sublist","","",h._event);h.stop()},_onPause:function(a){this.pauseTimer();
a.stop()},_onResume:function(a){this.resetTimer();a.stop()},_onclickNewsTitle:function(b){this.resetTimer();var e=$Element(b.currentElement);var d=e.parent(function(f){return/[0-9]{3}/.test(f.attr("id"))
},3);var c=d[0].attr("id");var a=NewsStand.getAreaPrefix();clickcr(e,a+".text",c,"",b._event)},_onActivate:function(a){if(this.myNewsDiv){this.setEableMouseEvent(true);var c=$Element($$.getSingle("#news_cast2 .cast2_article"));
var b=c.isParentOf(a.element);var e=$Agent().navigator();var d=(e.ie&&e.version==9&&a.element&&a.element.tagName&&a.element.tagName=="HTML");if(!b&&!d){this.resetTimer()}}a.stop()},_onInactivate:function(a){if(this.myNewsDiv){this.setEableMouseEvent(false);
this.pauseTimer()}a.stop()},_onclickPressUnsubscribe:function(c){var f=$Element(c.currentElement);var e=f.parent().parent();var d=$Element(e).attr("id");var a=NewsStand.getPressInfo(d);var b=NewsStand.getAreaPrefix();
this.Popup.Unsub.show(a);c.stop();clickcr(f,b+".unsub",d,"",c._event)},_onclickPressSubscribe:function(b){var e=$Element(b.currentElement);var d=e.parent().parent();var c=$Element(d).attr("id");var a=NewsStand.getAreaPrefix();
NewsStand.My.subscribe(c);b.stop();clickcr(e,a+".sub",c,"",b._event)},setPageNav:function(a){if(a){this.nPage=a}var b=NewsStand.getHeadlinePressList();this.nMaxPage=Math.ceil(b.length/2);if(this.nMaxPage>1){this.elPageSpan.html("<strong>"+this.nPage+"</strong>/"+this.nMaxPage);
$ElementList(this.aMoveBtn).css("display","");if(NewsStand.oFlicking){NewsStand.oFlicking.activate()}}else{this.elPageSpan.empty();$ElementList(this.aMoveBtn).css("display","none");if(NewsStand.oFlicking){NewsStand.oFlicking.deactivate()
}}},_drawPressList:function(g,f){var b=g.length;var a=new Array(b);f=f||this.loadCompleted;if(b>0){for(var e=0;e<b;e++){var c=g[e];NewsStand.DataManager.loadData(c,e,b,a,f)}}else{var d=(NewsStand.aMyPressList.length>0)?this.serviceReadyHTML:this.unsubscribeHTML;
f(d)}},_drawPressPage:function(c){var f=NewsStand.getHeadlinePressList();var d=(c-1)*2;var b=Math.min(c*2,f.length);var e=[];for(var a=d;a<b;a++){e.push(f[a])}this._drawPressList(e);this.setPageNav();NewsStand.setSidePanel()
},loadCompleted:function(b){var a=NewsStand.My;var c=NewsStand.getCurPanel();NewsStand.Event.detach(c);c.html(NewsStand.My.baseHTML+b);NewsStand.Event.attach(c);NewsStand.UI.postLoad()},getMyHeadlinePage:function(a){var e=NewsStand.getHeadlinePressList();
var f=[];for(var b=0;b<e.length;b++){if(a==e[b]){if(b%2==0){f.push(a);if(b<e.length-1){var c=e[b+1];f.push(c)}}else{if(b>0){var d=e[b-1];f.push(d)}f.push(a)}return{page:Math.ceil((b+1)/2),drawList:f}}}return null
},_adjustScrollPos:function(){var a=$$("#scroll9 .rectype_lst li");var c=0;for(var b=0;b<a.length;b++){if($Element(a[b]).hasClass("on")){c=b*17+6;break}}this.oScrollBox.setScrollTop(c)},subscribe:function(b){var a=this;
var d=NewsStand;var f=NewsStand.aMyPressList;var c="http://"+userInfoUrl+"/api/newsstand/mynews/addPress.jsonp";if(NewsStand.bMyNewsCast){c="http://"+userInfoUrl+"/api/newscast/mynews/add.jsonp"}c+="?pressId="+b;
var e=$Ajax(c,{type:"jsonp",timeout:5,onload:function(j){var h=j.json();if(h.result=="success"){d.aMyPressList.push(b);d.My.aMyHeadlinePressList.push(b);if(d.aMyPressList.length>0){d.bMyNewsStand=true}d.My.initCategory();
var g=$Element(b);g.query("a.btn_subs2").hide();g.query("a.del").css("display","inline-block");a.Popup.Sub.show(b)}else{a.Popup.Error.show(b);JEagleEyeClient.sendError("[NewsStand] Mynews add failed  :"+h.reason)
}},onerror:function(g){a.Popup.Error.show(b);JEagleEyeClient.sendError("[NewsStand] Mynews add failed(error) : "+g.text())},ontimeout:function(g){a.Popup.Error.show(b);JEagleEyeClient.sendError("[NewsStand] Mynews add failed(timeout)")
}}).request()},unsubscribe:function(b){var a=this;var d=NewsStand;var f=NewsStand.aMyPressList;var c="http://"+userInfoUrl+"/api/newsstand/mynews/deletePress.jsonp";if(NewsStand.bMyNewsCast){c="http://"+userInfoUrl+"/api/newscast/mynews/del.jsonp"
}c+="?pressId="+b;this.Popup.Unsub.hide();var e=$Ajax(c,{type:"jsonp",timeout:5,onload:function(h){var g=h.json();if(g.result=="success"){NewsStand.aMyPressList=NewsStand._array_remove(f,b);a.aMyHeadlinePressList=NewsStand._array_remove(a.aMyHeadlinePressList,b);
if(d.aMyPressList.length==0){d.bMyNewsStand=false;if(d.bMyNewsCast==true){d.bMyNewsCast=false}}d.My.initCategory();var j=NewsStand.getHeadlinePressList();a.nMaxPage=Math.ceil(j.length/2);if(a.nMaxPage<a.nPage){a.nPage=1
}a._drawPressPage(a.nPage)}else{a.Popup.Error.show(b);JEagleEyeClient.sendError("[NewsStand] Mynews delete failed  :"+g.reason)}},onerror:function(g){a.Popup.Error.show(b);JEagleEyeClient.sendError("[NewsStand] Mynews delete failed(error) : "+g.text())
},ontimeout:function(g){a.Popup.Error.show(b);JEagleEyeClient.sendError("[NewsStand] Mynews delete failed(timeout)")}}).request()},Popup:{Sub:{template:"<div class='waiting add' style='display:block'>MY뉴스에 추가되었습니다.</div>",show:function(b){var a=this;
a.hide();var c=$Element(b);c.append(this.template);setTimeout(function(){a.hide(b)},2000)},hide:function(a){var b=$Element(a);var c=$Element($$.getSingle(".waiting.add"),b);if(c){c.leave()}return false
}},Unsub:{template:"<div id='ly_media_close' class='ly_media_close'><p><strong>{=name}</strong>을(를)<br>구독해지 하시겠습니까?</p><div class='lmc_act'><a href='#' onclick='NewsStand.My.unsubscribe(\"{=pid}\"); clickcr(this, \"nsd_myn*a.usdone\", \"\", \"\", event); return false;' class='lmc_check'>확인</a> <a href='#' onclick='NewsStand.My.Popup.Unsub.hide(); clickcr(this, \"nsd_myn*a.uscancel\", \"\", \"\", event); return false;' class='lmc_cancel'>>취소</a></div><a href='#' onclick='NewsStand.My.Popup.Unsub.hide(); clickcr(this, \"nsd_myn*a.usclose\", \"\", \"\", event); return false;' class='lmc_close'>닫기</a></div>",show:function(a){this.hide();
var c=$Element(a.pid);var b=$Template(this.template).process(a);c.append(b)},hide:function(){var a=$Element("ly_media_close");if(a){a.leave()}return false}},Error:{template:"<div class='waiting' style='display:block'>잠시 후에 다시 시도해주세요</div>",show:function(c){var b=this;
NewsStand.My.Popup.Unsub.hide();b.hide(c);var d=$Element(c);var a=$$.getSingle(".waiting",c);if(a){$Element(a).show()}else{d.append(this.template)}setTimeout(function(){b.hide(c)},2000)},hide:function(b){var a=$$.getSingle(".waiting",b);
if(a){$Element(a).hide()}}}}},DataManager:{init:function(){this.oneSideEmptyHtml='<div class="cast2_media"><a href="http://'+newsStandUrl+'/config.html"target="_blank" class="plus_media" style="" onclick="clickcr(this,\'nsd_myn*a.add\', \'\',\'\',event);"><span></span>언론사 추가</a></div>';
this.headlineCache=[];var e=$ElementList($$("#news_cast2 .cast2_media"));for(var d=0;d<e._elements.length;d++){var c=e._elements[d];var a=c.attr("id");var b=c.outerHTML();this.setCacheData(a,b)}},setCacheData:function(a,b){this.headlineCache[a]=b
},getCacheData:function(a){return this.headlineCache[a]},postLoad:function(a,c,d){if(this.isAllLoad(a,c)){var b=this.getAllHtml(a);if(c%2==1){b+=this.oneSideEmptyHtml}d(b)}},loadData:function(f,g,c,d,h){var j=this;
var a=this.getCacheData(f);if(a){d[g]=a;j.postLoad(d,c,h)}else{var b="/include/newsstand/"+f+".html";var e=$Ajax(b,{timeout:3,method:"get",onload:function(k){j.setCacheData(f,k.text());d[g]=k.text();j.postLoad(d,c,h)
},onerror:function(){JEagleEyeClient.sendError("[NEWSSTAND] 언론사 헤드라인 정보 로딩 실패: "+b)},ontimeout:function(){JEagleEyeClient.sendError("[NEWSSTAND] 언론사 헤드라인 정보 로딩 timeout: "+b)}});e.header("If-Modified-Since","Thu, 1 Jan 1970 00:00:00 GMT");
e.request()}},isAllLoad:function(a,c){if(a.length!=c){return false}for(var b=0;b<a.length;b++){if(!a[b]){return false}}return true},getAllHtml:function(a){var c="";for(var b=0;b<a.length;b++){c+=a[b]}return c
}},UI:{hideFlickingNoti:function(){var a=NewsStand.UI;if(!a.oTransition){a.oTransition=new jindo.Transition()}a.oTransition.start(150,$$.getSingle("#news_contents .flick_prev"),{"@left":"-43px"},$$.getSingle("#news_contents .flick_next"),{"@right":"-43px"})
},showFlickingNoti:function(){var a=NewsStand.UI;if(!global.isSupportedFlicking||(a.oTransition&&a.oTransition.isPlaying())){return}$Element($$.getSingle("#news_contents .flick_prev")).css("left","0px");
$Element($$.getSingle("#news_contents .flick_next")).css("right","0px");setTimeout(a.hideFlickingNoti,1000)},initSortUI:function(a){NewsStand.sortTypeElement.removeClass("on");$Element($$.getSingle("#news_cast2 .sort_"+a)).addClass("on")
},postLoad:function(){var e=NewsStand.mode;if(e==NewsStand.My.mode){NewsStand.elArticle.addClass("my_media");var f=NewsStand.getHeadlinePressList("list",NewsStand.My.mode);var d=$ElementList($$(".cast2_media",NewsStand.getCurPanel()));
for(var c=0;c<d.$value().length;c++){var b=d.$value()[c];var a=b.attr("id");if(a&&!NewsStand._array_contains(f,a)){b.query("a.del").hide();b.query("a.btn_subs2").css("display","inline-block")}}NewsStand.My.reset()
}}},Event:{detach:function(b){var a=NewsStand.My;a.fnDeletePress.detach($$(".cast2_media a.del",b),"click");a.fnAddPress.detach($$(".cast2_media a.btn_subs2",b),"click");a.fnClickTitle.detach($$(".cast2_media ul li a",b),"click")
},attach:function(b){var a=NewsStand.My;a.fnDeletePress.attach($$(".cast2_media a.del",b),"click");a.fnAddPress.attach($$(".cast2_media a.btn_subs2",b),"click");a.fnClickTitle.attach($$(".cast2_media ul li a",b),"click")
}}};if(typeof NewsCast=="undefined"){NewsCast={}}NewsCast.FlashNewsRoll={init:function(c,b){if(!this._createFlashNews(c,b)){return 0}this._setTitle(c);this._replaceCharacters(c);var a=0;if(quickNews.M.length){a+=quickNews.M.length
}if(quickNews.N.length){a=(a+1)*quickNews.N.length}this.rolls=new Rolling();this.rolls.touch(c,{direction:1,size:a*20,moveSize:20,moveStep:0.1,moveInterval:30,effect:function(d){var d=Math.sin(d*(Math.PI/2));
return d*d*d*d},freeze:3000});$Fn(this._onRankPopOver,this).attach(c,"mouseover");$Fn(this._onRankPopOut,this).attach(c,"mouseout");$Fn(this._onRankPopFocus,this).attach(c,"focus",true);$Fn(this._onRankPopFocus,this).attach(c,"focusin",true);
$Fn(this._onRankPopBlur,this).attach(c,"blur",true);$Fn(this._onRankPopBlur,this).attach(c,"focusout",true);$Fn(this._onRankPopFocusFromShiftTab,this).attach($$.getSingle(".cast_link > li > a"),"keydown");
$Fn(this._onClickFlash,this).attach($$.getSingle(".newscast_top .cast_flash",$("news_cast")),"click");this.rolls.scrollTo(0)},_onRankPopOver:function(){this.rolls.pause()},_onRankPopOut:function(){this.rolls.resume()
},_onRankPopFocus:function(c){this.rolls.pause();var b=$$("#flash_news > ol > li > a");for(var a in b){if(a==b.length-1){this.rolls.scrollTo(0);$$.getSingle(".cast_link > li > a").focus();this.rolls.resume();
return}if(b[a]==c.element){this.rolls.scrollTo(a*this.rolls._options.moveSize);return}}},_onRankPopBlur:function(a){this.rolls.resume()},_onRankPopFocusFromShiftTab:function(b){if(b.key().shift&&b.key().keyCode==9){var a=$$("#flash_news > ol > li > a");
var c=a.length-2;a[c].focus();b.stop();return}},_onClickFlash:function(a){var d=a.element;var c=a._event;if(d.tagName=="A"){var b=d.parentNode.tagName;if(b==="H3"){clickcr(d,"ncy.newsflash","","",c)}if(b==="LI"){clickcr(d,"ncy.quickarticle","","",c)
}}},_createFlashNews:function(k,d){var a=this._checkNewsType(d);if(a==0){return false}else{if(a==1){var b=$(k);var g='<li><a href="#HREF">#TITLE</a></li>';var f=[];for(var h=0,l=d.N.length;h<l;++h){var m=d.N[h][0];
var c=d.N[h][1];f.push(g.replace(/#HREF/,c).replace(/#TITLE/,m))}var m=d.N[0][0];var c=d.N[0][1];f.push(g.replace(/#HREF/,c).replace(/#TITLE/,m));f=f.join("");b.innerHTML='<ol style="margin-top: 0px;">'+f+"</ol>";
return true}else{var b=$(k);var g='<li><a href="#HREF">#TITLE</a></li>';var f=[];for(var h=0,l=d.N.length;h<l;++h){for(var e=0;e<d.M.length;++e){var m=d.M[e][0];var c=d.M[e][1];f.push(g.replace(/#HREF/,c).replace(/#TITLE/,m))
}var m=d.N[h][0];var c=d.N[h][1];f.push(g.replace(/#HREF/,c).replace(/#TITLE/,m))}var m=d.M[0][0];var c=d.M[0][1];f.push(g.replace(/#HREF/,c).replace(/#TITLE/,m));f=f.join("");b.innerHTML='<ol style="margin-top: 0px;">'+f+"</ol>";
return true}}},_checkNewsType:function(a){if(a.N.length==1&&a.M.length==0){return 0}else{if(a.M.length==0){return 1}else{return 2}}},_setTitle:function(b){var c=$(b);var d=c.getElementsByTagName("a");for(var a=d.length-1;
a>-1;--a){d[a].title=$Element(d[a]).text();d[a].title=d[a].title.replace(/#emg#/,"[긴급] ")}},_replaceCharacters:function(a){$(a).innerHTML=$(a).innerHTML.replace(/#emg#/g,"<strong>[긴급]</strong> ")}};